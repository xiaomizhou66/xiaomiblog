---
title: '[ dayjs åº“]--moment.js çš„è½»é‡çº§ '
date: '2018/8/19 23:57:28'
categories:
  - å…«ã€JS å·¥å…·é›†/ JSæ‹“å±•è¯­è¨€
  - day.js æ¡†æ¶
abbrlink: caaabfec
updated:
tags:
comments:
---

## ä¸€ã€å‰è¨€

æ—¶é—´æ ¼å¼å¤„ç†åº“ï¼Œåœ¨å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬çš„é¡µé¢éœ€è¦ä½¿ç”¨åˆ°æ—¶é—´æ—¥æœŸï¼Œä½†æ˜¯æ ¼å¼å´æ˜¯æœ‰è¦æ±‚çš„ï¼Œè¿™ä¸ª dayjs å°±æ˜¯ä¸€ä¸ªå¤„ç†åº“ã€‚

Day.js æ˜¯ä¸€ä¸ªè½»é‡çš„å¤„ç†æ—¶é—´å’Œæ—¥æœŸçš„ JavaScript åº“ï¼Œå’Œ Moment.js çš„ API è®¾è®¡ä¿æŒå®Œå…¨ä¸€æ ·.**Day.js è™½ç„¶ä»…æœ‰ 2kb å¤§å°ï¼Œä½†æ˜¯åŠŸèƒ½ä¸€ç‚¹éƒ½æ²¡æœ‰é˜‰å‰²ã€‚åŒ…å«äº†æ—¶é—´å¤„ç†çš„å…¨éƒ¨å¸¸ç”¨æ–¹æ³•ã€‚**

Day.js -- 2kBè¶…è½»é‡æ—¶é—´åº“
Moment.js -- 200k+ with locals(å¯èƒ½ä¸€èˆ¬é¡¹ç›®ä¹Ÿåªä½¿ç”¨åˆ°äº†å¥¹å‡ ä¸ªå¸¸ç”¨çš„API ,å› æ­¤ dayjs æ›´å¥½ç”¨äºæ—¶é—´å¤„ç†)

- ğŸ•’ å’Œ Moment.js ç›¸åŒçš„ API å’Œç”¨æ³•
    æ¯” moment.js è½»é‡çº§
- ğŸ’ª ä¸å¯å˜æ•°æ® (Immutable)
- ğŸ”¥ æ”¯æŒé“¾å¼æ“ä½œ (Chainable)
    dayjs().startOf('month').add(1, 'day').set('year', 2018).format('YYYY-MM-DD HH:mm:ss');
- ğŸŒ I18n å›½é™…åŒ–
- ğŸ“¦ ä»… 2kb å¤§å°çš„å¾®å‹åº“
- ğŸ‘« å…¨æµè§ˆå™¨å…¼å®¹

[GitHub åœ°å€](https://github.com/iamkun/dayjs)
[æ˜é‡‘åœ°å€ï¼šä½œè€…](https://juejin.im/post/5ade86ce518825673277da67)

## äºŒã€å®‰è£…

```bash
# å®‰è£…
$ npm install --save dayjs
```

## ä¸‰ã€ dayjs ä½¿ç”¨

Day.js æœ‰å¾ˆå¤š API æ¥è§£æã€å¤„ç†ã€æ ¡éªŒã€å¢å‡ã€å±•ç¤ºæ—¶é—´å’Œæ—¥æœŸ

### 3.1 è§£æ

```JS
// è§£æï¼šå½“å‰æ—¶é—´
var now = dayjs() // è·å–å½“å‰æ—¶é—´
var now = dayjs(new Date())// è·å–å½“å‰æ—¶é—´
dayjs(Date.now() - 24 * 60 * 60 * 1000) // æ˜¨å¤©


// è§£æï¼šå­—ç¬¦ä¸² dayjs(String);
var day = dayjs('1995-12-25') // 1995-12-25
var day = dayjs('2018-08-08') // 2018-08-08

//è­¦å‘Šï¼šæµè§ˆå™¨å¯¹è§£æå­—ç¬¦ä¸²çš„æ”¯æŒä¸ä¸€è‡´ã€‚ç”±äºæ²¡æœ‰å…³äºåº”æ”¯æŒå“ªç§æ ¼å¼çš„è§„èŒƒï¼Œå› æ­¤åœ¨æŸäº›æµè§ˆå™¨ä¸­æœ‰æ•ˆçš„åŠŸèƒ½å°†æ— æ³•åœ¨å…¶ä»–æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚
//ä¸ºäº†è§£æé™¤ ISO 8601 å­—ç¬¦ä¸²ä»¥å¤–çš„ä»»ä½•å…¶ä»–å†…å®¹çš„ä¸€è‡´ç»“æœï¼Œæ‚¨åº”è¯¥ä½¿ç”¨ String + Formatã€‚

//æ ¼å¼åŒ–
dayjs().format('YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss') // 2018å¹´08æœˆ08æ—¥ 00:00:00
dayjs().format('[YYYY]') // "[2018]"ã€‚     [] é‡Œçš„ä¼šåŸæ ·è¾“å‡ºã€‚
dayjs().format('{YYYY} MM-DDTHH:mm:ss SSS [Z] A') //

//æ“ä½œ
dayjs().add(7, 'days') // ä¹‹åçš„ç¬¬7å¤©
dayjs().add(1, 'year') // ä¹‹åçš„ç¬¬ 1 å¹´
dayjs().subtract(1, 'months') // ä¸Šä¸ªæœˆ
dayjs().startOf('months') // è·å–ä¸€æœˆåˆ
dayjs().endOf('year') // è·å–ä¸€å¹´å¹´æœ«
dayjs().set('month', 3).month() //

//æŸ¥è¯¢
dayjs('2010-10-20').isBefore('2010-10-21') // æ—©äº
dayjs('2010-10-20').isAfter('2010-10-19') // æ™šäº
dayjs().isLeapYear() // é—°å¹´
dayjs().isBefore(dayjs()) // æŸ¥è¯¢



```
