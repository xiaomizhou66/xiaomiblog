<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="小米粥e博客"><meta name="keywords" content="html, css, vue, JavaScript,js,vuex,element-ui,iveiw-ui,axios"><title>render 渲染函数 | liuxmoo</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">render 渲染函数</h1><a id="logo" href="/.">liuxmoo</a><p class="description">半路被拎来的前端。(*^▽^*)。学习最快的方法→慢慢来</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">render 渲染函数</h1><div class="post-meta"><a href="/2018/08/19/⑧-【JS 工具集-拓展语言】-render-渲染函数/#comments" class="comment-count"></a><p><span class="date">Aug 19, 2018</span><span><a href="/categories/⑧-JS-工具集-JS拓展语言/" class="category">⑧ JS 工具集/ JS拓展语言</a><a href="/categories/⑧-JS-工具集-JS拓展语言/render-函数/" class="category">render 函数</a></span></p></div><div class="post-content"><h2 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h2><p>在 jquery 中我们使用 js 集合 jquery 的 API 方法 动态的生成 一些 DOM 元素。</p>
<p>那么在 vue ，wepy，mpvue 双向绑定的框架中，我们使用的是 render 来动态生成  DOM 元素。</p>
<p>在 vue 官方文档有这么一段话：Vue 推荐在绝大多数情况下使用 template 来创建你的 HTML。然而在一些场景中，在这种场景中使用 template 并不是最好的选择：首先代码冗长，为了在不同级别的标题中插入锚点元素，我们需要重复地使用 <code>&lt;slot&gt;&lt;/slot&gt;</code>。虽然模板在大多数组件中都非常好用，但是在这里它就不是很简洁的了。那么，我们来尝试使用 render 函数，这时你可以用 render 函数，它比 template 更接近编译器。<br>就是说在一个 负载的 html 元素中，就比如表格，我们不是用 html 代码去编辑的，而是通过 render 函数来生成 虚拟 DOM 元素 ，通过 js 代码来放置到 DOM 中去的。</p>
<p><a href="https://cn.vuejs.org/v2/guide/render-function.html" target="_blank" rel="noopener">vue 的 render</a></p>
<h2 id="二、Node-节点-与-VNode-虚拟节点"><a href="#二、Node-节点-与-VNode-虚拟节点" class="headerlink" title="二、Node 节点 与 VNode 虚拟节点"></a>二、Node 节点 与 VNode 虚拟节点</h2><h3 id="2-1-普通-DOM-节点与-虚拟-DOM-节点"><a href="#2-1-普通-DOM-节点与-虚拟-DOM-节点" class="headerlink" title="2.1 普通 DOM 节点与 虚拟 DOM 节点"></a>2.1 普通 DOM 节点与 虚拟 DOM 节点</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 普通 DOM --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>111<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>222<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  333</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 虚拟 DOM */</span></span><br><span class="line"><span class="keyword">var</span>  vnode=&#123;</span><br><span class="line">  tag:<span class="string">'div'</span>,</span><br><span class="line">  attributes:&#123;</span><br><span class="line">    id:<span class="string">'main'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  children:[</span><br><span class="line">    &#123;<span class="attr">tag</span>:<span class="string">'p'</span>,<span class="string">'111'</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">tag</span>:<span class="string">'p'</span>,<span class="string">'222'</span>&#125;,</span><br><span class="line">    <span class="string">'333'</span></span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-vue-中的-vnode-虚拟节点"><a href="#2-2-vue-中的-vnode-虚拟节点" class="headerlink" title="2.2 vue 中的 vnode 虚拟节点"></a>2.2 vue 中的 vnode 虚拟节点</h3><p>tag：当前节点的标签名<br>data：当前节点的数据对象（下⼀页）<br>children：⼦节点，数组，也是 VNode 类型<br>text：当前节点的⽂本，⼀般⽂本节点或注释节点会有该属性<br>elm：当前虚拟节点对应的真实的 DOM 节点<br>ns：节点的 namespace<br>content：编译作⽤域<br>functionalContext： 函数化组件的作⽤域<br>key：节点的key属性，⽤于作为节点的标识，有利于 patch 的优化<br>componentOptions：创建组件实例时会⽤到的选项信息<br>child：当前节点对应的组件实例<br>parent：组件的占位节点<br>raw：原始 html<br>isStatic：静态节点的标识<br>isRootInsert：是否作为根节点插被 <code>&lt;transition&gt;</code> 包裹的节点，<br>该属性的值为false<br>isComment：当前节点是否是注释节点<br>isCloned：当前节点是否为克隆节点<br>isOnce：当前节点是否有 v-once 指令</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 源码中 VNode 的定义 */</span></span><br><span class="line"><span class="keyword">export</span> interface VNode&#123;</span><br><span class="line">  tag：<span class="comment">//当前节点的标签名</span></span><br><span class="line">  data：<span class="comment">//当前节点的数据对象（下一页）</span></span><br><span class="line">  children<span class="comment">//节点，数组，也是 VNode 类型</span></span><br><span class="line">  text：<span class="comment">//当前节点的文本，一般文本节点或注释节点会有该属性</span></span><br><span class="line">  elm：<span class="comment">//当前虚拟节点对应的真实的 DOM 节点</span></span><br><span class="line">  ns：<span class="comment">//节点的 namespace</span></span><br><span class="line">  content：<span class="comment">//编译作用域</span></span><br><span class="line">  functionalContext： <span class="comment">//函数化组件的作⽤域</span></span><br><span class="line">  key：<span class="comment">//节点的key属性，用于作为节点的标识，有利于 patch 的优化</span></span><br><span class="line">  componentOptions：<span class="comment">//创建组件实例时会用到的选项信息</span></span><br><span class="line">  child：<span class="comment">//当前节点对应的组件实例</span></span><br><span class="line">  parent：<span class="comment">//组件的占位节点</span></span><br><span class="line">  raw：<span class="comment">//原始 html</span></span><br><span class="line">  isStatic：<span class="comment">//静态节点的标识</span></span><br><span class="line">  isRootInsert：<span class="comment">//是否作为根节点插入，被 &lt;transition&gt; 包裹的节点，  该属性的值为false</span></span><br><span class="line">  isComment：<span class="comment">//当前节点是否是注释节点</span></span><br><span class="line">  isCloned：<span class="comment">//当前节点是否为克隆节点</span></span><br><span class="line">  isOnce：<span class="comment">//当前节点是否有 v-once 指令</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="三、普通-组件-与-render-函数组件"><a href="#三、普通-组件-与-render-函数组件" class="headerlink" title="三、普通 组件 与 render 函数组件"></a>三、普通 组件 与 render 函数组件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//普通 组件</span></span><br><span class="line">vue.component(<span class="string">'ele'</span>,&#123;</span><br><span class="line">  template:<span class="string">`\</span></span><br><span class="line"><span class="string">    &lt;div id='element'</span></span><br><span class="line"><span class="string">    :class='&#123;show:show&#125;'\</span></span><br><span class="line"><span class="string">    @click='handleClick'&gt;文本内容&lt;/div&gt;`</span>,</span><br><span class="line">  data:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">      show:<span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    handleClick()&#123;</span><br><span class="line">      <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//render 函数组件</span></span><br><span class="line">vue.component(<span class="string">'ele'</span>,&#123;</span><br><span class="line">  render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> createElement(</span><br><span class="line">      <span class="string">'div'</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        class:&#123;</span><br><span class="line">          <span class="string">'show'</span>:<span class="keyword">this</span>.show</span><br><span class="line">        &#125;,</span><br><span class="line">        attrs:&#123;</span><br><span class="line">          <span class="string">'id'</span>:<span class="string">'element'</span>,</span><br><span class="line">          style: <span class="string">"margin-bottom:10px"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        on:&#123;</span><br><span class="line">          click:<span class="keyword">this</span>.handleClick</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">'文本内容'</span></span><br><span class="line">    )</span><br><span class="line">  &#125;,</span><br><span class="line">  data:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">      show:<span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    handleClick()&#123;</span><br><span class="line">      <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="四、render-渲染函数-的使用"><a href="#四、render-渲染函数-的使用" class="headerlink" title="四、render /渲染函数 的使用"></a>四、render /渲染函数 的使用</h2><h3 id="4-1-为什么要用-render-函数"><a href="#4-1-为什么要用-render-函数" class="headerlink" title="4.1 为什么要用 render 函数"></a>4.1 为什么要用 render 函数</h3><p>普通组件在该场景下的问题</p>
<ul>
<li>• 代码冗长</li>
<li>• template 中大部分代码是相同的</li>
<li>• 外层必须包含以一个无用的 <code>&lt;div&gt;</code> （vue 中），或者是 <code>&lt;view&gt;</code>(小程序中)</li>
</ul>
<h3 id="4-2-工作原理-流程"><a href="#4-2-工作原理-流程" class="headerlink" title="4.2 工作原理/流程"></a>4.2 工作原理/流程</h3><p>render 函数:生成虚拟节点 =&gt;<br>createElement():基于虚拟节点创建 DOM 节点 =&gt;<br>diff: 状态更新后，进行对比，生成补丁对象 =&gt;<br>patch:遍历补丁对象生成 DOM 节点</p>
<h3 id="4-3-render-函数使用方法"><a href="#4-3-render-函数使用方法" class="headerlink" title="4.3 render 函数使用方法"></a>4.3 render 函数使用方法</h3><h4 id="4-3-1-createElement-tag-dataObj-children-text-函数"><a href="#4-3-1-createElement-tag-dataObj-children-text-函数" class="headerlink" title="4.3.1 createElement(tag,dataObj,children/text) 函数"></a>4.3.1 createElement(tag,dataObj,children/text) 函数</h4><p>第 1 个参数必选，可以是 1 个 HTML 标签，也可以是 1 个组件或函数；<br>第 2 个是可选参数，数据对象<br>第 3 个是子节点，也是可选，</p>
<p>简单来说</p>
<p>第 1 个参数是 标签，<br>第 2 个参数是属性与特性，事件等等，<br>第 3 个参数是标签内的内容（文本或者是子标签）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">createElement(</span><br><span class="line">  <span class="string">'div'</span>,<span class="comment">//第 1 个参数必选，可以是 1 个 HTML 标签，也可以是 1 个组件或函数；</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// 第 2 个参数数据对象，可选参数</span></span><br><span class="line">    class:&#123;</span><br><span class="line">      show:<span class="keyword">this</span>.show</span><br><span class="line">    &#125;,<span class="comment">//v-bind:class</span></span><br><span class="line">    style:&#123;</span><br><span class="line">      <span class="comment">//</span></span><br><span class="line">    &#125;,<span class="comment">//v-bind:style</span></span><br><span class="line">    attrs:&#123;</span><br><span class="line">      id:<span class="string">'idName'</span></span><br><span class="line">    &#125;,<span class="comment">//一般的 HTML 属性，比如 id</span></span><br><span class="line">    props:&#123;</span><br><span class="line">      someProp:<span class="string">'foo'</span></span><br><span class="line">    &#125;,<span class="comment">//props</span></span><br><span class="line">    on:&#123;</span><br><span class="line">      click:<span class="keyword">this</span>.handleClick</span><br><span class="line">    &#125;,<span class="comment">//自定义定义事件</span></span><br><span class="line">    nativeOn:<span class="string">''</span><span class="comment">//原生事件，比如 click</span></span><br><span class="line">    <span class="comment">// 当然这里不只是这些，还有很多属性，参照 3.3.3 节</span></span><br><span class="line">  &#125;,</span><br><span class="line">  [</span><br><span class="line">    <span class="comment">// 第 3 个是子节点，子节点 array 数组，可选参数，也是用 createElement()  函数构造的</span></span><br><span class="line">    createElment(<span class="string">'h1'</span>,<span class="string">'hello world'</span>),</span><br><span class="line">    createElment(MyComponent,&#123;</span><br><span class="line">      props:&#123;</span><br><span class="line">        someProp:<span class="string">'foo'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="string">'bar'</span><span class="comment">// 这个是什么子节点啊 指的是&lt;div&gt;&lt;/div&gt; 中的内容，文本，或者是其他的子标签</span></span><br><span class="line">    <span class="comment">// 这里的意思是 div 标签中有 一个 h1 标签，一个 MyComponent 子组件 还有直接文本 bar</span></span><br><span class="line">  ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 得到的普通 DOM  效果如下代码--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">MyComponent</span> <span class="attr">:someProp</span>=<span class="string">'foo'</span>&gt;</span><span class="tag">&lt;/<span class="name">MyComponent</span>&gt;</span></span><br><span class="line">  bar</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="4-3-2-createElement-函数第-1-个参数（必填）"><a href="#4-3-2-createElement-函数第-1-个参数（必填）" class="headerlink" title="4.3.2 createElement() 函数第 1 个参数（必填）"></a>4.3.2 createElement() 函数第 1 个参数（必填）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'div'</span>  <span class="comment"># 一个 div 元素</span></span><br><span class="line"><span class="string">'h'</span> + this.level <span class="comment"># 若 level 为 1 则是 h1 标签</span></span><br></pre></td></tr></table></figure>
<h4 id="4-3-3-createElement-函数第-2-个参数（可选）-【源码中-VNodeData-的定义】"><a href="#4-3-3-createElement-函数第-2-个参数（可选）-【源码中-VNodeData-的定义】" class="headerlink" title="4.3.3 createElement() 函数第 2 个参数（可选） 【源码中 VNodeData 的定义】"></a>4.3.3 createElement() 函数第 2 个参数（可选） 【源码中 VNodeData 的定义】</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 源码中 VNode 的定义 */</span></span><br><span class="line"><span class="keyword">export</span> interface VNodeData&#123;</span><br><span class="line">  key:<span class="string">'myKey'</span> ,                  <span class="comment">//string | number    //节点的 key 属性，用于作为节点的标识，有利于 patch 的优化</span></span><br><span class="line">  slot:<span class="string">'name-of-slot'</span>,  <span class="comment">//string  如果组件是其他组件的子组件，需为插槽指定名称</span></span><br><span class="line">  scopedSlots:&#123;</span><br><span class="line">    <span class="comment">// 作用域插槽格式  &#123; name: props =&gt; VNode | Array&lt;VNode&gt; &#125;</span></span><br><span class="line">    <span class="keyword">default</span>: <span class="function"><span class="params">props</span> =&gt;</span> createElement(<span class="string">'span'</span>, props.text)<span class="comment">//&#123;[key:string],ScopedSlot&#125;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ref:<span class="string">'myRef'</span>,<span class="comment">//如果你在渲染函数中向多个元素都应用了相同的 ref 名，那么 `$refs.myRef` 会变成一个数组</span></span><br><span class="line">  refInFor: <span class="literal">true</span>,</span><br><span class="line">  tag:<span class="string">''</span>,<span class="comment">//当前节点的标签名</span></span><br><span class="line">  staticClass:<span class="string">''</span>,</span><br><span class="line">  class:&#123;</span><br><span class="line">    <span class="comment">//和`v-bind:class`一样的 API，接收一个字符串、对象或字符串和对象组成的数组</span></span><br><span class="line">    foo: <span class="literal">true</span>,<span class="comment">// 任何类型数据</span></span><br><span class="line">    bar: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  staticStyles:&#123;&#125;,<span class="comment">//&#123;[key:string],any&#125;</span></span><br><span class="line">  style:&#123;</span><br><span class="line">    <span class="comment">//和`v-bind:style`一样的 API，接收一个字符串、对象或对象组成的数组</span></span><br><span class="line">    color: <span class="string">'red'</span>,</span><br><span class="line">    fontSize: <span class="string">'14px'</span><span class="comment">// object[],object</span></span><br><span class="line">  &#125;,</span><br><span class="line">  props:&#123;</span><br><span class="line">    someProp:<span class="string">'foo'</span><span class="comment">//&#123;[key:string],any&#125;   组件 props</span></span><br><span class="line">  &#125;,</span><br><span class="line">  attrs:&#123;</span><br><span class="line">    id:<span class="string">'idName'</span>,<span class="comment">//&#123;[key:string],any&#125;  普通的 HTML 特性</span></span><br><span class="line">    name: headingId,</span><br><span class="line">    href: <span class="string">'#'</span> + headingId</span><br><span class="line">  &#125;,</span><br><span class="line">  domProps:&#123;</span><br><span class="line">    <span class="comment">// DOM 属性</span></span><br><span class="line">    innerHTML: <span class="string">'baz'</span><span class="comment">//&#123;[key:string],any&#125;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  hook:&#123;&#125;,<span class="comment">//&#123;[key:string],func&#125;</span></span><br><span class="line">  on:&#123;</span><br><span class="line">    <span class="comment">//事件监听器基于 `on`，所以不再支持如 `v-on:keyup.enter` 修饰器，需要手动匹配 keyCode。</span></span><br><span class="line">    click: <span class="keyword">this</span>.clickHandler<span class="comment">//&#123;[key:string],func,func[]&#125;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  nativeOn:&#123;</span><br><span class="line">    <span class="comment">//仅用于组件，用于监听原生事件，而不是组件内部使用，`vm.$emit` 触发的事件。</span></span><br><span class="line">    click: <span class="keyword">this</span>.nativeClickHandler<span class="comment">//&#123;[key:string],func,func[]&#125;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  transition:object,</span><br><span class="line">  show:<span class="literal">true</span>,<span class="comment">// boolean</span></span><br><span class="line">  inlineTemplate:&#123;</span><br><span class="line">    render:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line">    staticRenderFns:function[]</span><br><span class="line">  &#125;,</span><br><span class="line">  directives: [</span><br><span class="line">    <span class="comment">// 自定义指令。注意，你无法对 `binding` 中的 `oldValue` 赋值，因为 Vue 已经自动为你进行了同步。</span></span><br><span class="line">    <span class="comment">//VNodeDirective[]</span></span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'my-custom-directive'</span>,</span><br><span class="line">      value: <span class="string">'2'</span>,</span><br><span class="line">      expression: <span class="string">'1 + 1'</span>,</span><br><span class="line">      arg: <span class="string">'foo'</span>,</span><br><span class="line">      modifiers: &#123;</span><br><span class="line">        bar: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  keepAlive:<span class="literal">true</span> <span class="comment">//boolean</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-3-4-createElement-函数第-3-个参数（可选）"><a href="#4-3-4-createElement-函数第-3-个参数（可选）" class="headerlink" title="4.3.4 createElement() 函数第 3 个参数（可选）"></a>4.3.4 createElement() 函数第 3 个参数（可选）</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[ createElement(tag,dataObj,children/text), <span class="comment">// 子元素,</span></span><br><span class="line">  createElement(tag,dataObj,children/text), <span class="comment">//子元素,</span></span><br><span class="line">  <span class="string">''</span><span class="comment">//标签中的文本内容</span></span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>
<h4 id="4-3-5-完整示例"><a href="#4-3-5-完整示例" class="headerlink" title="4.3.5 完整示例"></a>4.3.5 完整示例</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getChildrenTextContent = <span class="function"><span class="keyword">function</span> (<span class="params">children</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> children.map(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> node.children</span><br><span class="line">      ? getChildrenTextContent(node.children)</span><br><span class="line">      : node.text</span><br><span class="line">  &#125;).join(<span class="string">''</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Vue.component(<span class="string">'anchored-heading'</span>, &#123;</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 创建 kebab-case 风格的ID</span></span><br><span class="line">    <span class="keyword">var</span> headingId = getChildrenTextContent(<span class="keyword">this</span>.$slots.default)</span><br><span class="line">      .toLowerCase()</span><br><span class="line">      .replace(<span class="regexp">/\W+/g</span>, <span class="string">'-'</span>)</span><br><span class="line">      .replace(<span class="regexp">/(^\-|\-$)/g</span>, <span class="string">''</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//返回一个 createElement 构建的虚拟 DOM</span></span><br><span class="line">    <span class="keyword">return</span> createElement(</span><br><span class="line">      <span class="string">'h'</span> + <span class="keyword">this</span>.level,<span class="comment">//第一个参数</span></span><br><span class="line">      [<span class="comment">//第二个参数</span></span><br><span class="line">        createElement(<span class="string">'a'</span>, &#123;</span><br><span class="line">          attrs: &#123;</span><br><span class="line">            name: headingId,</span><br><span class="line">            href: <span class="string">'#'</span> + headingId</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, <span class="keyword">this</span>.$slots.default)</span><br><span class="line">      ]</span><br><span class="line">    )</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  props: &#123;</span><br><span class="line">    level: &#123;</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      required: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="4-4-6-createElement-用-h-来替代"><a href="#4-4-6-createElement-用-h-来替代" class="headerlink" title="4.4.6 createElement 用 h 来替代 !!!!!!!!!!!!!!!!!!!!!!!!!"></a>4.4.6 createElement 用 h 来替代 !!!!!!!!!!!!!!!!!!!!!!!!!</h4><p>将 h 作为 createElement 的别名是 Vue 生态系统中的一个通用惯例，实际上也是 JSX 所要求的，如果在作用域中 h 失去作用，在应用中会触发报错。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'anchored-heading'</span>, &#123;</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">h</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 创建 kebab-case 风格的ID</span></span><br><span class="line">    <span class="keyword">var</span> headingId = getChildrenTextContent(<span class="keyword">this</span>.$slots.default)</span><br><span class="line">      .toLowerCase()</span><br><span class="line">      .replace(<span class="regexp">/\W+/g</span>, <span class="string">'-'</span>)</span><br><span class="line">      .replace(<span class="regexp">/(^\-|\-$)/g</span>, <span class="string">''</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//返回一个 h 构建的虚拟 DOM</span></span><br><span class="line">    <span class="keyword">return</span> h(</span><br><span class="line">      <span class="string">'h'</span> + <span class="keyword">this</span>.level,<span class="comment">//第一个参数</span></span><br><span class="line">      [<span class="comment">//第二个参数</span></span><br><span class="line">        h(<span class="string">'a'</span>, &#123;</span><br><span class="line">          attrs: &#123;</span><br><span class="line">            name: headingId,</span><br><span class="line">            href: <span class="string">'#'</span> + headingId</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, <span class="keyword">this</span>.$slots.default)</span><br><span class="line">      ]</span><br><span class="line">    )</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  props: &#123;</span><br><span class="line">    level: &#123;</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      required: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="六、约束"><a href="#六、约束" class="headerlink" title="六、约束"></a>六、约束</h2><h3 id="6-1-VNodes-必须唯一"><a href="#6-1-VNodes-必须唯一" class="headerlink" title="6.1 VNodes 必须唯一"></a>6.1 VNodes 必须唯一</h3><p>所有的组件树中，如果 VNode 是组件，或含有组件的 slot，那 VNode 必须唯一</p>
<h3 id="6-2-组件的复用"><a href="#6-2-组件的复用" class="headerlink" title="6.2 组件的复用"></a>6.2 组件的复用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//局部声明组件,</span></span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">  &lt;ele&gt;<span class="xml"><span class="tag">&lt;/<span class="name">ele</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">var Child=&#123;</span></span><br><span class="line"><span class="regexp">  render:function(createElement)&#123;</span></span><br><span class="line"><span class="regexp">    return createElement('p','text')</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">vue.component('ele',&#123;</span></span><br><span class="line"><span class="regexp">  render:function(createElement)&#123;</span></span><br><span class="line"><span class="regexp">    var ChildNode = createElement(Child)</span></span><br><span class="line"><span class="regexp">    return createElement('div',</span></span><br><span class="line"><span class="regexp">      ChildNode, /</span><span class="regexp">/这里的做法是错误，因为组件重复了xxxxxxxxxxxxx</span></span><br><span class="line"><span class="regexp">      ChildNode</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//局部声明组件，我们可以哟弄 map 遍历的办法</span></span><br><span class="line"><span class="keyword">var</span> Child=&#123;</span><br><span class="line">  render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> createElement(<span class="string">'p'</span>,<span class="string">'text'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">vue.component(<span class="string">'ele'</span>,&#123;</span><br><span class="line">  render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> createElement(<span class="string">'div'</span>,</span><br><span class="line">      <span class="built_in">Array</span>.apply(<span class="literal">null</span>,&#123; <span class="comment">// 对的，√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√</span></span><br><span class="line">        length:<span class="number">5</span></span><br><span class="line">      &#125;).map(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> createElement(Child)</span><br><span class="line">      &#125;)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Array.apply() 函数与 ES6 的 <code>Array.from()</code> 有点类似.<br><code>apply()</code> 的第一个参数是对象，第二个参数是数组，作为参数列表。<code>{length: 5}</code> 就可以看作一个类数组对象，长度是 5，每个元素，比如 <code>v[0]</code>是 <code>undefined</code>。<br>所以<code>Array.apply(null, { length: 5})</code> 相当于<code>Array(undefined, undefined, undefined, undefined, undefined)</code></p>
<p>既然已经到了 ES6 了，那么我们还是用 Array.from() 方法比较好,  Array.from()</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="number">3</span> &#125;);  <span class="comment">//[ undefined, undefined, undefined ]</span></span><br><span class="line"><span class="comment">// 这个方案只需要一个参数就可以了，不需要再用 null 了，</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//当然Array.from() 方法可以有第 2 个参数，就是对 第一个参数中 的每个值进行遍历。就类似 .map </span></span><br><span class="line"><span class="built_in">Array</span>.from(arrayLike, x =&gt; x * x); <span class="comment">// Array.from() 方法的 第 2 个参数</span></span><br><span class="line"><span class="built_in">Array</span>.from(arrayLike).map(<span class="function"><span class="params">x</span> =&gt;</span> x * x); <span class="comment">// 数组的 map() 方法</span></span><br></pre></td></tr></table></figure>
<p>如果用的是 Array.from 上面的 render 函数可以修改如下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//局部声明组件，我们可以哟弄 map 遍历的办法</span></span><br><span class="line"><span class="keyword">var</span> Child=&#123;</span><br><span class="line">  render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> createElement(<span class="string">'p'</span>,<span class="string">'text'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">vue.component(<span class="string">'ele'</span>,&#123;</span><br><span class="line">  render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> createElement(<span class="string">'div'</span>,</span><br><span class="line">      <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>:<span class="number">5</span>&#125;,()=&gt;createElement(Child))<span class="comment">// 对的，√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√√</span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="6-3-slot-的克隆"><a href="#6-3-slot-的克隆" class="headerlink" title="6.3 slot 的克隆"></a>6.3 slot 的克隆</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 错误做法,因为 slot 包含了组件，并且重复了 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ele</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Child</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ele</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">   <span class="comment">// 全局</span></span></span><br><span class="line"><span class="javascript">  vue.component(<span class="string">'Child'</span>,&#123; <span class="comment">// 错的</span></span></span><br><span class="line"><span class="javascript">    render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> createElement(<span class="string">'p'</span>,<span class="string">'text'</span>)</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="javascript">  vue.component(<span class="string">'ele'</span>,&#123;</span></span><br><span class="line"><span class="javascript">    render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> createElement(<span class="string">'div'</span>,</span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="javascript">          <span class="keyword">this</span>.$slots.defalut,<span class="comment">// 错的</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">this</span>.$slots.defalut</span></span><br><span class="line"><span class="undefined">        ]</span></span><br><span class="line"><span class="undefined">      )</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el:<span class="string">'#app'</span></span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 正确的做法</span></span><br><span class="line">vue.component(<span class="string">'ele'</span>,&#123;</span><br><span class="line">  render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 克隆 slot 的节点方法</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">cloneVNode</span>(<span class="params">VNode</span>)</span>&#123;</span><br><span class="line">      <span class="comment">// 递归遍历所有的子节点并且克隆</span></span><br><span class="line">      <span class="keyword">const</span> clonedChildren = VNode.children &amp;&amp; VNode.children.map(<span class="function"><span class="keyword">function</span>(<span class="params">vnode</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cloneVNode(vnode)</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">const</span> cloned = createElement(</span><br><span class="line">        vnode.tag,</span><br><span class="line">        vnode.data,</span><br><span class="line">        clonedChildren</span><br><span class="line">      )</span><br><span class="line">      cloned.text = vnode.text <span class="comment">//当前节点的文本，一般文本节点或注释节点会有该属性</span></span><br><span class="line">      cloned.isComment= vnode.isComment<span class="comment">////当前节点是否是注释节点</span></span><br><span class="line">      cloned.componentOptions= vnode.componentOptions<span class="comment">//创建组件实例时会用到的选项信息</span></span><br><span class="line">      cloned.elm= vnode.elm<span class="comment">//当前虚拟节点对应的真实的 DOM 节点</span></span><br><span class="line">      cloned.context= vnode.context</span><br><span class="line">      cloned.ns= vnode.ns<span class="comment">//节点的 namespace</span></span><br><span class="line">      cloned.isStatic= vnode.isStatic<span class="comment">//静态节点的标识</span></span><br><span class="line">      cloned.key= vnode.key<span class="comment">//节点的key属性，用于作为节点的标识，有利于 patch 的优化</span></span><br><span class="line">      <span class="keyword">return</span> cloned</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> vNodes = <span class="keyword">this</span>.$slots.default</span><br><span class="line">    <span class="keyword">const</span> clonedVNnodes = vNodes.map(<span class="function"><span class="keyword">function</span>(<span class="params">vNode</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> createElement(<span class="string">'div'</span>,[</span><br><span class="line">        vNodes,</span><br><span class="line">        clonedVNnodes</span><br><span class="line">      ])</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="七、-使用-js-代替模板功能"><a href="#七、-使用-js-代替模板功能" class="headerlink" title="七、 使用 js 代替模板功能"></a>七、 使用 js 代替模板功能</h2><p>在 Render 函数中，没有指令，一切都可以⽤用 JS 来实现。就是说 v-if，v-else，wx-if，wx-for 这样的指令在 render 函数中是不存在的，<br>v-if，v-else，wx-if ：在 render 函数中 js 代码就是 if…else 语句来的，<br>v-for，wx-for：在 render 函数中 js 代码就是 map 遍历来做的</p>
<h3 id="7-1-v-if，v-else，wx-if"><a href="#7-1-v-if，v-else，wx-if" class="headerlink" title="7.1 v-if，v-else，wx-if"></a>7.1 v-if，v-else，wx-if</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ele</span> <span class="attr">:show</span>=<span class="string">'show'</span>&gt;</span><span class="tag">&lt;/<span class="name">ele</span>&gt;</span>  <span class="comment">&lt;!-- 这里是 ele 子组件 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">'show = !show'</span>&gt;</span>切换 show<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="comment">//在 ele 这个组件中创建  子组件</span></span></span><br><span class="line"><span class="javascript">  vue.component(<span class="string">'ele'</span>,&#123;</span></span><br><span class="line"><span class="javascript">    render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(<span class="keyword">this</span>.show)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> createElement(<span class="string">'p'</span>,<span class="string">'show 的值为 true'</span>)</span></span><br><span class="line"><span class="javascript">      &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> createElement(<span class="string">'p'</span>,<span class="string">'show 的值为 false'</span>)</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="javascript">    props:&#123; <span class="comment">// 这是从 app 组件传来的 show 值 props 传值</span></span></span><br><span class="line"><span class="undefined">      show:&#123;</span></span><br><span class="line"><span class="javascript">        type:<span class="built_in">Boolean</span>,</span></span><br><span class="line"><span class="javascript">        defalut:<span class="literal">false</span></span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el:<span class="string">'#app'</span>,</span></span><br><span class="line"><span class="undefined">    data:&#123;</span></span><br><span class="line"><span class="undefined">      show:&#123;</span></span><br><span class="line"><span class="javascript">        show:<span class="literal">false</span></span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="7-2-v-for-wx-for"><a href="#7-2-v-for-wx-for" class="headerlink" title="7.2 v-for,wx-for"></a>7.2 v-for,wx-for</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ele</span> <span class="attr">:list</span>=<span class="string">'list'</span>&gt;</span><span class="tag">&lt;/<span class="name">ele</span>&gt;</span>  <span class="comment">&lt;!-- 这里是 ele 子组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  vue.component(<span class="string">'ele'</span>,&#123;</span></span><br><span class="line"><span class="javascript">    render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> nodes = []</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> n = <span class="keyword">this</span>.list.length</span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>;i&lt;n;i++)&#123;</span></span><br><span class="line"><span class="javascript">        nodes.push(createElement(<span class="string">'p'</span>,<span class="keyword">this</span>.list[i])</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> createElement(<span class="string">'div'</span>,nodes)</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="javascript">    props:&#123; <span class="comment">// 这是从 app 组件传来的 show 值 props 传值</span></span></span><br><span class="line"><span class="undefined">      list:&#123;</span></span><br><span class="line"><span class="javascript">        type:<span class="built_in">Array</span>,</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el:<span class="string">'#app'</span>,</span></span><br><span class="line"><span class="undefined">    data:&#123;</span></span><br><span class="line"><span class="javascript">      list:[<span class="string">'xiaomi'</span>,<span class="string">'liuliu'</span>,<span class="string">'meimei'</span>]</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="7-3-v-if-与-for-结合"><a href="#7-3-v-if-与-for-结合" class="headerlink" title="7.3 v-if 与 for 结合"></a>7.3 v-if 与 for 结合</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ele</span> <span class="attr">:list</span>=<span class="string">'list'</span>&gt;</span><span class="tag">&lt;/<span class="name">ele</span>&gt;</span>  <span class="comment">&lt;!-- 这里是 ele 子组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="comment">//在 ele 这个组件中创建  子组件</span></span></span><br><span class="line"><span class="javascript">  vue.component(<span class="string">'ele'</span>,&#123;</span></span><br><span class="line"><span class="javascript">    render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> n = <span class="keyword">this</span>.list.length</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(n)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> createElement(<span class="string">'ul'</span>,<span class="keyword">this</span>.list.map(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> createElement(<span class="string">'li'</span>,item)</span></span><br><span class="line"><span class="undefined">        &#125;))</span></span><br><span class="line"><span class="javascript">      &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> createElement(<span class="string">'p'</span>,<span class="string">'列表为空'</span>)</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="javascript">    props:&#123; <span class="comment">// 这是从 app 组件传来的 show 值 props 传值</span></span></span><br><span class="line"><span class="undefined">      list:&#123;</span></span><br><span class="line"><span class="javascript">        type:<span class="built_in">Array</span>,</span></span><br><span class="line"><span class="javascript">        defalut:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> []</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el:<span class="string">'#app'</span>,</span></span><br><span class="line"><span class="undefined">    data:&#123;</span></span><br><span class="line"><span class="javascript">      list:[<span class="string">'xiaomi'</span>,<span class="string">'liuliu'</span>,<span class="string">'meimei'</span>]</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="7-4-v-model"><a href="#7-4-v-model" class="headerlink" title="7.4 v-model"></a>7.4 v-model</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">vue.component(<span class="string">'ele'</span>,&#123;</span><br><span class="line">    render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">var</span> that = <span class="keyword">this</span></span><br><span class="line">      <span class="keyword">return</span> createElement(<span class="string">'div'</span>,[</span><br><span class="line">        createElement(<span class="string">'input'</span>,&#123;</span><br><span class="line">          domProps:[</span><br><span class="line">            value:<span class="keyword">this</span>.value</span><br><span class="line">          ],</span><br><span class="line">          on:&#123;</span><br><span class="line">            input:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">              than.value = e.target.value</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;),</span><br><span class="line">        createElement(<span class="string">'p'</span>,<span class="string">'value:'</span>+ <span class="keyword">this</span>.value)</span><br><span class="line">      ])</span><br><span class="line">    &#125;,</span><br><span class="line">    data:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span>:&#123;</span><br><span class="line">        value:<span class="string">''</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
<h2 id="八、render-事件修饰符"><a href="#八、render-事件修饰符" class="headerlink" title="八、render 事件修饰符"></a>八、render 事件修饰符</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.stop  =&gt;  event.stopPropagation()</span><br><span class="line">.prevent  =&gt;  event.preventDefault()</span><br><span class="line">.self  =&gt;  <span class="keyword">if</span>(event.target !== event.currentTarget) <span class="built_in">return</span></span><br><span class="line">.enter / .13 =&gt;  <span class="keyword">if</span>(event.keyCode !== 13) <span class="built_in">return</span> <span class="comment"># 替代 13 位 需要的 keyCode</span></span><br><span class="line">.ctrl/.alt/.<span class="built_in">shift</span>/.mata =&gt;  <span class="keyword">if</span>(!event.ctrlKey) <span class="built_in">return</span></span><br><span class="line"><span class="comment"># 根据需要替换 ctrlKey 为 ctrlKey 或 altKey 又或者 shiftKey ，再或者 mataKey</span></span><br></pre></td></tr></table></figure>
<h3 id="8-1-事件修饰前缀"><a href="#8-1-事件修饰前缀" class="headerlink" title="8.1 事件修饰前缀"></a>8.1 事件修饰前缀</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.capture =&gt;  !</span><br><span class="line">.once  =&gt;  ~</span><br><span class="line">.capture.once/.once.capture  =&gt;  ~!</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">on:&#123;</span><br><span class="line">  <span class="string">'!click'</span>:<span class="keyword">this</span>.doThisInCapturingMode, <span class="comment">// 发生在捕获阶段的事件函数</span></span><br><span class="line">  <span class="string">'~keyup'</span>:<span class="keyword">this</span>.doThisOnce,<span class="comment">//按键执行一次</span></span><br><span class="line">  <span class="string">'~!mouseover'</span>:<span class="keyword">this</span>.doThisOnce,<span class="comment">//鼠标经过捕获阶段执行一次</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="九、插槽-slot"><a href="#九、插槽-slot" class="headerlink" title="九、插槽 slot"></a>九、插槽 slot</h2><p>插槽分为，</p>
<ul>
<li><p>单个插槽  ：内容由父组件决定 （不传值）              静态插槽<br>  <code>&lt;Child&gt;333333&lt;/Child&gt;</code></p>
<p>  `<div></div></p>
<pre><code>&lt;slot&gt;&lt;/slot&gt;
</code></pre><p>  `</p>
</li>
<li><p>具名插槽  ：内容由父组件决定 （不传值）              静态插槽</p>
  <child><br>    <span slot="header">111</span><br>    <span slot="body">222</span><br>    <span slot="footer">333</span><br>  </child>

<p>  `<div></div></p>
<pre><code>&lt;slot name=&apos;header&apos;&gt;&lt;/slot&gt;
&lt;slot name=&apos;body&apos;&gt;&lt;/slot&gt;
&lt;slot name=&apos;footer&apos;&gt;&lt;/slot&gt;
</code></pre><p>  `</p>
</li>
<li><p>作用域插槽：内容由子组件决定（子组件绑定传值给父组件） 作用域插槽<br>  <code>&lt;Child scoped-slot=&#39;props&#39;&gt;&lt;/Child&gt;</code></p>
<p>  `<div></div></p>
<pre><code>&lt;slot :text=&quot;message&quot;&gt;&lt;/slot&gt;
</code></pre><p>  `</p>
</li>
</ul>
<h3 id="9-1-this-slots-访问-静态插槽-的内容"><a href="#9-1-this-slots-访问-静态插槽-的内容" class="headerlink" title="9.1 this.$slots 访问 静态插槽 的内容"></a>9.1 this.$slots 访问 静态插槽 的内容</h3><p>可以通过 <code>this.$slots</code> 访问 <strong>静态插槽</strong> 的内容，得到的是一个 <code>VNodes</code> 数组：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//返回 `&lt;div&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/div&gt;`</span></span><br><span class="line">  <span class="keyword">return</span> createElement(</span><br><span class="line">    <span class="string">'div'</span>,</span><br><span class="line">    <span class="keyword">this</span>.$slots.default</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-2-this-scopedSlots-访问作用域插槽-scoped-slot-‘props’"><a href="#9-2-this-scopedSlots-访问作用域插槽-scoped-slot-‘props’" class="headerlink" title="9.2  this.$scopedSlots 访问作用域插槽 scoped-slot = ‘props’"></a>9.2  this.$scopedSlots 访问作用域插槽 scoped-slot = ‘props’</h3><p>this.$scopedSlots 访问 <strong>作用域插槽</strong>，得到的是一个返回 VNodes 的函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">props: [<span class="string">'message'</span>],</span><br><span class="line">render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//返回 `&lt;div&gt;&lt;slot :text="message"&gt;&lt;/slot&gt;&lt;/div&gt;`</span></span><br><span class="line">  <span class="keyword">return</span> createElement(</span><br><span class="line">    <span class="string">'div'</span>,</span><br><span class="line">    [</span><br><span class="line">      <span class="keyword">this</span>.$scopedSlots.default(&#123;</span><br><span class="line">        text: <span class="keyword">this</span>.message</span><br><span class="line">      &#125;)</span><br><span class="line">    ]</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用 渲染函数 向子组件 中 传递作用域插槽 参见 4.3.4</span></span><br><span class="line">render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> createElement(</span><br><span class="line">    <span class="string">'div'</span>,</span><br><span class="line">    [</span><br><span class="line">      createElement(</span><br><span class="line">        <span class="string">'child'</span>,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="comment">// 在数据对象中传递 `scopedSlots`</span></span><br><span class="line">          <span class="comment">// 格式：&#123; name: props =&gt; VNode | Array&lt;VNode&gt; &#125;</span></span><br><span class="line">          scopedSlots: &#123;</span><br><span class="line">            <span class="keyword">default</span>: <span class="function"><span class="keyword">function</span> (<span class="params">props</span>) </span>&#123;</span><br><span class="line">              <span class="keyword">return</span> createElement(</span><br><span class="line">                <span class="string">'span'</span>,</span><br><span class="line">                props.text</span><br><span class="line">              )</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    ]</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//上面返回的 html 如下</span></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;child scoped-slot=<span class="string">'props'</span>&gt;</span><br><span class="line">    &lt;span&gt;&#123;&#123;props.text&#125;&#125;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>child&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="9-3-slot-默认内容"><a href="#9-3-slot-默认内容" class="headerlink" title="9.3 slot 默认内容"></a>9.3 slot 默认内容</h3><p><code>this.$slot.default = undefined</code>,说明父组件中没有定义 slot ，这时可以自定义显示的内容。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ele</span> <span class="attr">:list</span>=<span class="string">'list'</span>&gt;</span><span class="tag">&lt;/<span class="name">ele</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ele</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>slot 的内容，这里 ele 组件插槽里面是有这段 p 标签的内容的<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ele</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="comment">//在 ele 这个组件中创建  子组件</span></span></span><br><span class="line"><span class="javascript">  vue.component(<span class="string">'ele'</span>,&#123;</span></span><br><span class="line"><span class="javascript">    render:<span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(<span class="keyword">this</span>.$slot.default)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> createElement(<span class="string">'div'</span>,<span class="string">'没有使用 slot 时 显示的文本'</span>)</span></span><br><span class="line"><span class="javascript">      &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> createElement(<span class="string">'div'</span>,<span class="string">'this.$slot.default'</span>)</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el:<span class="string">'#app'</span></span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="十、函数式组件"><a href="#十、函数式组件" class="headerlink" title="十、函数式组件"></a>十、函数式组件</h2><p>Vue.js 提供了 1 个 functional 的布尔值选项，设置为 true 可以使组件无状态和无实例，也就是没有data 和 this 上下文，这样用render 函数返回虚拟节点可以更容易渲染，因为函数化组件只是 1 个函数，渲染开销要⼩很多。</p>
<p>使用函数化组件时，Render 函数提供了第 2 个参数 context 来提供临时上下文，组件需要的 data、props、slots、children、parent 都是通过这个上下文 来传递，比如 <code>this.level</code> 要改写为<code>context.props.level</code>，而 <code>this.$slots.default</code> 改写为 <code>context.children。</code></p>
<h2 id="十二、vue-js-中-的-render"><a href="#十二、vue-js-中-的-render" class="headerlink" title="十二、vue.js 中 的 render"></a>十二、vue.js 中 的 render</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 直接使用 h() 方法构建 虚拟 DOM</span></span><br><span class="line">render: <span class="function">(<span class="params">h, params</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> h(<span class="string">"ButtonGroup"</span>, [</span><br><span class="line">    h(</span><br><span class="line">      <span class="string">"Button"</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">          type: <span class="string">"info"</span>,</span><br><span class="line">          icon: <span class="string">"ios-analytics"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        on: &#123;</span><br><span class="line">          click: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.showDetail(params.index);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">"详情"</span></span><br><span class="line">    ),</span><br><span class="line">    h(</span><br><span class="line">      <span class="string">"Button"</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">          type: <span class="string">"error"</span>,</span><br><span class="line">          icon: <span class="string">"ios-trash"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        on: &#123;</span><br><span class="line">          click: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.remove(params.index);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">"删除"</span></span><br><span class="line">    )</span><br><span class="line">  ]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 直接使用 h() 方法构建 虚拟 DOM</span></span><br><span class="line"><span class="comment">// 触发事件</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">on: &#123;</span></span><br><span class="line"><span class="comment">  click: () =&gt; &#123;</span></span><br><span class="line"><span class="comment">    this.showDetail(params.index);</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// return 中写的是 html 片段</span></span><br><span class="line">render: <span class="function">(<span class="params">h, params</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ButtonGroup size=<span class="string">"default"</span>&gt;</span><br><span class="line">      &lt;Button type=<span class="string">"success"</span> icon=<span class="string">"md-create"</span> onClick=&#123;() =&gt; &#123;</span><br><span class="line">        <span class="keyword">this</span>.handleClickEditRobot(params.row)</span><br><span class="line">      &#125;&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line">      &lt;Button type=<span class="string">"warning"</span> disabled=&#123;params.row.status === <span class="string">'掉线'</span>&#125;</span><br><span class="line">              icon=&#123;params.row.status === <span class="string">'运行中'</span> ? <span class="string">'ios-pause'</span> : <span class="string">'ios-play'</span>&#125; onClick=&#123;() =&gt; &#123;</span><br><span class="line">        <span class="keyword">this</span>.handleClickPlayOrPause(params.row)</span><br><span class="line">      &#125;&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line">      &lt;Button type=<span class="string">"error"</span> icon=<span class="string">"ios-trash"</span> onClick=&#123;() =&gt; &#123;</span><br><span class="line">        <span class="keyword">this</span>.handleClickDelete(params.row)</span><br><span class="line">      &#125;&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line">    &lt;<span class="regexp">/ButtonGroup&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ return 中写的是 html 片段</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ 触发事件</span></span><br><span class="line"><span class="regexp">/</span>*</span><br><span class="line">onClick=&#123;() =&gt; &#123;</span><br><span class="line">  <span class="keyword">this</span>.handleClickEditRobot(params.row)</span><br><span class="line">&#125;&#125; *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ 通过一对花括号来写一个函数片段在里面!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!值得学习。</span></span><br></pre></td></tr></table></figure></div><div class="tags"></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2018/08/19/⑧-【JS 工具集-拓展语言】开发者工具使用/" class="pre">Chrome 开发者工具的使用详解</a><a href="/2018/08/19/⑧-【JS 工具集-拓展语言】-rumen/" class="next">node.js--[小白入门版]</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、前言"><span class="toc-text">一、前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、Node-节点-与-VNode-虚拟节点"><span class="toc-text">二、Node 节点 与 VNode 虚拟节点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-普通-DOM-节点与-虚拟-DOM-节点"><span class="toc-text">2.1 普通 DOM 节点与 虚拟 DOM 节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-vue-中的-vnode-虚拟节点"><span class="toc-text">2.2 vue 中的 vnode 虚拟节点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、普通-组件-与-render-函数组件"><span class="toc-text">三、普通 组件 与 render 函数组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四、render-渲染函数-的使用"><span class="toc-text">四、render /渲染函数 的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-为什么要用-render-函数"><span class="toc-text">4.1 为什么要用 render 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-工作原理-流程"><span class="toc-text">4.2 工作原理/流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-render-函数使用方法"><span class="toc-text">4.3 render 函数使用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-1-createElement-tag-dataObj-children-text-函数"><span class="toc-text">4.3.1 createElement(tag,dataObj,children/text) 函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-2-createElement-函数第-1-个参数（必填）"><span class="toc-text">4.3.2 createElement() 函数第 1 个参数（必填）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-3-createElement-函数第-2-个参数（可选）-【源码中-VNodeData-的定义】"><span class="toc-text">4.3.3 createElement() 函数第 2 个参数（可选） 【源码中 VNodeData 的定义】</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-4-createElement-函数第-3-个参数（可选）"><span class="toc-text">4.3.4 createElement() 函数第 3 个参数（可选）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-5-完整示例"><span class="toc-text">4.3.5 完整示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-6-createElement-用-h-来替代"><span class="toc-text">4.4.6 createElement 用 h 来替代 !!!!!!!!!!!!!!!!!!!!!!!!!</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六、约束"><span class="toc-text">六、约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-VNodes-必须唯一"><span class="toc-text">6.1 VNodes 必须唯一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-组件的复用"><span class="toc-text">6.2 组件的复用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-slot-的克隆"><span class="toc-text">6.3 slot 的克隆</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七、-使用-js-代替模板功能"><span class="toc-text">七、 使用 js 代替模板功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-v-if，v-else，wx-if"><span class="toc-text">7.1 v-if，v-else，wx-if</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-v-for-wx-for"><span class="toc-text">7.2 v-for,wx-for</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-v-if-与-for-结合"><span class="toc-text">7.3 v-if 与 for 结合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-v-model"><span class="toc-text">7.4 v-model</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#八、render-事件修饰符"><span class="toc-text">八、render 事件修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-事件修饰前缀"><span class="toc-text">8.1 事件修饰前缀</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#九、插槽-slot"><span class="toc-text">九、插槽 slot</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-this-slots-访问-静态插槽-的内容"><span class="toc-text">9.1 this.$slots 访问 静态插槽 的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-this-scopedSlots-访问作用域插槽-scoped-slot-‘props’"><span class="toc-text">9.2  this.$scopedSlots 访问作用域插槽 scoped-slot = ‘props’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-slot-默认内容"><span class="toc-text">9.3 slot 默认内容</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#十、函数式组件"><span class="toc-text">十、函数式组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#十二、vue-js-中-的-render"><span class="toc-text">十二、vue.js 中 的 render</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/">① html-css</a><span class="category-list-count">17</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/Normalize-css/">Normalize.css</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/css/">css</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/html/">html</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/less/">less</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/scss/">scss</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/">② Javascript-ES6-Typescript</a><span class="category-list-count">12</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/ES6/">ES6</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/Javascript/">Javascript</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/TypeScript/">TypeScript</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/">③ Jquery.js</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/JQurey-UI/">JQurey-UI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/Jquery-js-框架学习/">Jquery.js 框架学习</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/ajax-前后端数据交互/">ajax 前后端数据交互</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/">④  vue.js</a><span class="category-list-count">21</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/axios-前后端数据交互/">axios 前后端数据交互</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-中使用-less-scss-等预处理器/">vue 中使用 less/scss 等预处理器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-cli-脚手架/">vue-cli 脚手架</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-router-路由设置/">vue-router 路由设置</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-js-框架学习/">vue.js 框架学习</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-js-的-UI-组件库/">vue.js 的 UI 组件库</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vuex-状态管理器/">vuex 状态管理器</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/">⑤ react.js</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/axios-在-react-js-中使用/">axios 在 react.js 中使用</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/create-react-app-脚手架/">create-react-app 脚手架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/less-scss/">less/scss</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/mixins-混合组件-与-hoc-高阶组件/">mixins 混合组件 与 hoc 高阶组件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/react-router-v4-路由管理器/">react-router v4 路由管理器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/react-js-框架学习/">react.js 框架学习</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/react-js-的-UI-组件库/">react.js 的 UI 组件库</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/taro-js-多终端框架-京东/">taro.js 多终端框架(京东)</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/状态管理器/">状态管理器</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑥-react-native-js/">⑥ react-native.js</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑥-react-native-js/react-native-框架/">react-native 框架</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/">⑦ 小程序</a><span class="category-list-count">11</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/MINA-框架/">MINA 框架</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/mpvue-框架/">mpvue 框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/wepy-框架/">wepy 框架</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/">⑧ JS 工具集/ JS拓展语言</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/Chrome-开发者工具/">Chrome 开发者工具</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/JSL-拓展语言/">JSL 拓展语言</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/day-js-框架/">day.js 框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/markdown/">markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/node-js-语言/">node.js 语言</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/render-函数/">render 函数</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/阿里矢量图用法（字符实体）/">阿里矢量图用法（字符实体）</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑨-HTTP/">⑨ HTTP</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github/">⑩ 打包工具-命令行工具-包管理器-github</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github/github/">github</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github/npm-yarn/">npm & yarn</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github/webpack/">webpack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github/编辑器/">编辑器</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑪-网站部署/">⑪ 网站部署</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑫-综合实战项目/">⑫ 综合实战项目</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑫-综合实战项目/jQuery/">jQuery</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑫-综合实战项目/vue/">vue</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑬-数据结构与算法/">⑬ 数据结构与算法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑭-静态网页生成器/">⑭ 静态网页生成器</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑭-静态网页生成器/hexo/">hexo</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/㊿-无关编程/">㊿ 无关编程</a><span class="category-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/animation-动画/" style="font-size: 15px;">animation 动画</a> <a href="/tags/cookie-session-token/" style="font-size: 15px;">cookie,session,token</a> <a href="/tags/立即执行函数/" style="font-size: 15px;">立即执行函数</a> <a href="/tags/gradients-线性/" style="font-size: 15px;">gradients 线性</a> <a href="/tags/Jquery-ajax/" style="font-size: 15px;">Jquery->ajax</a> <a href="/tags/interceptor-请求拦截器/" style="font-size: 15px;">interceptor 请求拦截器</a> <a href="/tags/v-charts-图标库/" style="font-size: 15px;">v-charts 图标库</a> <a href="/tags/react-js-组件传值/" style="font-size: 15px;">react.js 组件传值</a> <a href="/tags/递归函数/" style="font-size: 15px;">递归函数</a> <a href="/tags/transition-过渡/" style="font-size: 15px;">transition 过渡</a> <a href="/tags/react-js事件处理/" style="font-size: 15px;">react.js事件处理</a> <a href="/tags/react-js-生命周期/" style="font-size: 15px;">react.js 生命周期</a> <a href="/tags/transform-转换-变形/" style="font-size: 15px;">transform 转换/变形</a> <a href="/tags/flex/" style="font-size: 15px;">flex</a> <a href="/tags/ESlint之坑/" style="font-size: 15px;">ESlint之坑</a> <a href="/tags/axios-使用于-vue-js-react-js/" style="font-size: 15px;">axios(使用于 vue.js react.js)</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/08/15/[html-css]-css-float 浮动/">css--[盒状模型：display:inline-block + position 属性 + float 属性]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/06/⑧-【JS 工具集-拓展语言】-node.js- 爬虫/">node.js--爬虫</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-ES7-async 异步编程进阶/">async 异步编程进阶</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-js-new Date() 日期时间处理/">JavaScript---new Date]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-js-正则表达式/">JavaScript--正则表达式</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-js-递归函数/">JavaScript【2】--[递归函数的深入了解]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-js-立即执行函数/">JavaScript【4】--[立即执行函数 IIFE ]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-js-高质量高效率代码编辑/">[编写高质量 JS 代码 ]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-js-cookie-token/">JavaScript【1】--[cookie,session,token 详解]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/⑨-【HTTP】-HTTP 状态码/">HTTP--[状态码]</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://gofoer.com/" title="Gofoer" target="_blank">Gofoer</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p></p><p><span> &nbsp;&nbsp;Copyright &copy;2018&nbsp;<a href="/." rel="nofollow">小米粥.</a></span><span> <a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> </a></span><span> <a rel="nofollow" target="_blank" href="https://hexo.io"> </a></span></p></div></div></div><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>