<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="小米粥e博客"><meta name="keywords" content="html, css, vue, JavaScript,js,vuex,element-ui,iveiw-ui,axios"><title>react.js--[react-router v4 (react-router-dom) 路由] | liuxmoo</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">react.js--[react-router v4 (react-router-dom) 路由]</h1><a id="logo" href="/.">liuxmoo</a><p class="description">半路被拎来的前端。(*^▽^*)。学习最快的方法→慢慢来</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">react.js--[react-router v4 (react-router-dom) 路由]</h1><div class="post-meta"><a href="/2018/08/19/【react.js 框架 】-react-router v4 【react router dom】 路由/#comments" class="comment-count"></a><p><span class="date">Aug 19, 2018</span><span><a href="/categories/⑤-react-js/" class="category">⑤ react.js</a><a href="/categories/⑤-react-js/react-router-v4-路由管理器/" class="category">react-router v4 路由管理器</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h1 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h1><p>react.js 是 单页应用，页面切换需要依靠 路由。</p>
<p><a href="https://github.com/ReactTraining/react-router/issues" target="_blank" rel="noopener">github 官方</a><br><a href="https://www.npmjs.com/package/react-router-dom" target="_blank" rel="noopener">npm 官方</a><br><a href="https://router.happyfe.com/web/guides/quick-start/installation" target="_blank" rel="noopener">中文文档</a></p>
<h1 id="二、React-Router-V4-讲解"><a href="#二、React-Router-V4-讲解" class="headerlink" title="二、React Router V4 讲解"></a>二、React Router V4 讲解</h1><p>React Router V4 于 17 年 3 月升级，本次升级 React Router V4 吸取了 React 的理念：所有的东西都是 Component。因此 升级之后的 Route、Link、Switch……等都是一个普通的组件。</p>
<p>React Router V4 基于 Lerna 管理多个 Repository。在此代码库包括：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- react-router React    <span class="comment"># Router 路由的核心功能</span></span><br><span class="line">- react-router-dom      <span class="comment"># 用于 DOM 绑定的 React Router!!!!!!!!!!!!!!!!!!!!!!!!!!!! DOM bindings for React Router</span></span><br><span class="line">- react-router-native   <span class="comment"># 用于 React Native 的 React Router</span></span><br><span class="line">- react-router-redux    <span class="comment"># React Router 和 Redux 的集成</span></span><br><span class="line">- react-router-config   <span class="comment"># 静态路由配置帮助助手</span></span><br></pre></td></tr></table></figure>
<p><a href="https://router.happyfe.com/web/guides/quick-start" target="_blank" rel="noopener">React Router V4 中文文档</a></p>
<h2 id="2-1-react-router-和-react-router-dom-还有-react-router-native-的区别"><a href="#2-1-react-router-和-react-router-dom-还有-react-router-native-的区别" class="headerlink" title="2.1 react-router 和 react-router-dom 还有 react-router-native 的区别"></a>2.1 react-router 和 react-router-dom 还有 react-router-native 的区别</h2><p><a href="https://github.com/mrdulin/blog/issues/42" target="_blank" rel="noopener">区别网址</a><br><a href="https://github.com/ReactTraining/react-router/issues/4648" target="_blank" rel="noopener">区别网址</a></p>
<p><strong>react-router</strong> 实现了路由的核心功能<br><strong>react-router-dom</strong>基于react-router，加入了在浏览器运行环境下的一些功能，<br>    Link 组件，会渲染一个 a 标签，Link 组件源码 a 标签行; BrowserRouter 和 HashRouter 组件，前者使用 pushState 和 popState 事件构建路由，后者使用 window.location.hash 和 hashchange 事件构建路由。<br>    react-router-dom 依赖 react-router，所以我们使用 npm 安装依赖的时候，只需要安装相应环境下的库即可，<strong>不用再显式安装 react-router</strong>。基于浏览器环境的开发，只需要安装 react-router-dom；<br>    安装了 react-router-dom，npm 会解析并安装上述依赖包。可以看到，其中包括 react-router。<br><strong>react-router-native</strong> 基于react-router，类似 react-router-dom，加入了 eact-native 运行环境下的一些功能。<br>    基于 react-native 环境的开发，只需要安装 react-router-native 。npm 会自动解析 react-router-dom 包中 package.json 的依赖并安装。</p>
<h1 id="二、安装引入"><a href="#二、安装引入" class="headerlink" title="二、安装引入"></a>二、安装引入</h1><h2 id="2-1-npm-安装、引入"><a href="#2-1-npm-安装、引入" class="headerlink" title="2.1 npm 安装、引入"></a>2.1 npm 安装、引入</h2><p><a href="https://www.npmjs.com/package/react-router-dom" target="_blank" rel="noopener">网址</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># $ npm install -S react-router # npm 安装法</span></span><br><span class="line"><span class="comment"># $ yarn add react-router # yarn 安装法</span></span><br><span class="line"><span class="comment"># 以前是上面的方法安装的，但是 v4 版本之后就升级了，是安装 react-router-dom ，因为 react-router 不需要显示的安装了</span></span><br><span class="line">$ npm install --save react-router-dom   <span class="comment"># 这样安装时候也已经包含了 react-router</span></span><br></pre></td></tr></table></figure>
<h2 id="2-3-create-react-app-2-0-项目示例-！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！"><a href="#2-3-create-react-app-2-0-项目示例-！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！" class="headerlink" title="2.3 create-react-app 2.0 项目示例!!!!!!!!!!!!!!!!！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！"></a>2.3 create-react-app 2.0 项目示例!!!!!!!!!!!!!!!!！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！</h2><h3 id="2-3-1-React-Router-4-0-之前"><a href="#2-3-1-React-Router-4-0-之前" class="headerlink" title="2.3.1 React Router 4.0 之前"></a>2.3.1 React Router 4.0 之前</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/App.js！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！</span></span><br><span class="line"><span class="comment">// React Router 4.0 之前 路由可以单独的写在一个文件里面，其他页面不需要设置  Route ，但是现在不可以这样了</span></span><br><span class="line"><span class="comment">// 但是现在使用的是 4.0 + 版本的，不再是这样嵌套路由的写法了，而是将子路由写在对应的 子组件里面。</span></span><br><span class="line">&lt;Router&gt;</span><br><span class="line">  &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">         一些导航条或者是其他的上面 html 文档</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;Route exact path="/</span><span class="string">" component=&#123;Home&#125; /&gt;</span></span><br><span class="line"><span class="string">    &lt;Route path="</span>/login<span class="string">" component=&#123;Login&#125; /&gt;</span></span><br><span class="line"><span class="string">    &lt;Route path="</span>/groups<span class="string">" components=&#123;Groups&#125; /&gt; &#123;/* 1 级路由 */&#125;</span></span><br><span class="line"><span class="string">    &lt;Route path="</span>/users<span class="string">"  components=&#123;Users&#125;&gt;    &#123;/* 1 级路由 */&#125;</span></span><br><span class="line"><span class="string">      &lt;Route path="</span>/users/:userId<span class="string">" component=&#123;Profile&#125; /&gt;&#123;/* 2 级路由 */&#125;</span></span><br><span class="line"><span class="string">    &lt;/Route&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/Router&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-1-React-Router-4-0"><a href="#2-3-1-React-Router-4-0" class="headerlink" title="2.3.1 React Router 4.0+"></a>2.3.1 React Router 4.0+</h3><p>4.0以后，嵌套的路由 与 之前 的就完全不同了，需要单独放置在嵌套的根 component 中去处理路由，否则会一直有警告。</p>
<p><code>warning:You should not use &lt;Route component&gt; and &lt;Route children&gt; in the same route</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/App.js！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！</span></span><br><span class="line"><span class="comment">// 根组件</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="comment">/* import logo from '../assets/logo.svg'; */</span></span><br><span class="line"><span class="comment">//import BasicExample from '../router/BasicExample/BasicExample';</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'../views/Home/Home'</span>;</span><br><span class="line"><span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">'../views/Login/Login'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./App.scss'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">  Route<span class="comment">/* ,</span></span><br><span class="line"><span class="comment">  Link */</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span><span class="comment">//导入路由插件，组件</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="comment">// router react 4.0 之后，多级路由嵌套不再是 写在一个单独文件里面 而是在 每个需要路由的组件中去配置</span></span><br><span class="line">      <span class="comment">// App.js 根组件 配置 1 级路由，首先是需要一个 &lt;Router&gt; 标签来包裹</span></span><br><span class="line">      &lt;Router&gt;</span><br><span class="line">        &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">          &lt;div&gt;</span><br><span class="line">            一些导航条或者是其他的上面 html 文档</span><br><span class="line">          &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">          &lt;Route path="groups" components=&#123;Groups&#125; /</span>&gt; &#123;<span class="comment">/* 1 级路由 */</span>&#125;</span><br><span class="line">          &lt;Route path=<span class="string">"users"</span>  components=&#123;Users&#125;&gt;    &#123;<span class="comment">/* 1 级路由 */</span>&#125;</span><br><span class="line">            &#123;<span class="comment">/*&lt;Route path="users/:userId" component=&#123;Profile&#125; /&gt;  2 级路由 不能在这里设置了，</span></span><br><span class="line"><span class="comment">             而是应该到 Users 组件里面去设置*/</span>&#125;</span><br><span class="line">          &lt;<span class="regexp">/Route&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">      &lt;<span class="regexp">/Router&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default App;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Users.js</span></span><br><span class="line"><span class="comment">// 这里不需要 router 标签包裹了</span></span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div className=<span class="string">"left"</span>&gt;</span><br><span class="line">       &lt;Link to=<span class="string">"/user/"</span>&gt;个人中心&lt;<span class="regexp">/Link&gt;</span></span><br><span class="line"><span class="regexp">       &lt;Link to="/u</span>ser/info<span class="string">"&gt;用户信息&lt;/Link&gt;</span></span><br><span class="line"><span class="string">       &lt;Link to=&#123;`$&#123;this.props.match.params.url&#125;/components`&#125;&gt;Components&lt;/Link&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;Route exact path="</span>/user/<span class="string">" component=&#123;Main&#125; /&gt;</span></span><br><span class="line"><span class="string">      &lt;Route path="</span>/user/info<span class="string">" component=&#123;Info&#125; /&gt;</span></span><br><span class="line"><span class="string">      &lt;Route path=&#123;`$&#123;this.props.match.params.url&#125;/:userId`&#125; component=&#123;Profile&#125;/&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Home 组件</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./Home.scss'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Input,List,Button &#125; <span class="keyword">from</span> <span class="string">'antd'</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>()&#123;</span><br><span class="line">    <span class="keyword">super</span>()</span><br><span class="line">    <span class="keyword">this</span>.state=&#123;</span><br><span class="line">      title:<span class="string">'待办列表'</span>,</span><br><span class="line">      list:[],</span><br><span class="line">      value:<span class="string">''</span>,</span><br><span class="line">      completeList:[]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* this.addList=this.addList.bind(this) */</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">/*   static getDerivedStateFromProps(nextProps, prevState)&#123;</span></span><br><span class="line"><span class="comment">    //</span></span><br><span class="line"><span class="comment">  &#125; */</span></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="keyword">this</span>.getLocaleData()</span><br><span class="line">  &#125;</span><br><span class="line">  getLocaleData=<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      list:<span class="built_in">JSON</span>.parse(localStorage.getItem(<span class="string">'todoList'</span>))||[],</span><br><span class="line">      completeList:<span class="built_in">JSON</span>.parse(localStorage.getItem(<span class="string">'completeList'</span>))||[]</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  setLocaleData=<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    localStorage.setItem(<span class="string">'todoList'</span>,<span class="built_in">JSON</span>.stringify(<span class="keyword">this</span>.state.list||[]))</span><br><span class="line">    localStorage.setItem(<span class="string">'completeList'</span>,<span class="built_in">JSON</span>.stringify(<span class="keyword">this</span>.state.completeList||[]))</span><br><span class="line">  &#125;</span><br><span class="line">  getValue = <span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      value:e.target.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  addList = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> value = <span class="keyword">this</span>.state.value</span><br><span class="line">    <span class="keyword">if</span>(value)&#123;</span><br><span class="line">      <span class="keyword">let</span> newList = <span class="keyword">this</span>.state.list</span><br><span class="line">      newList.push(value)<span class="comment">//返回值是 索引值</span></span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">        list: newList,<span class="comment">//这里一定是这样修改值，才行，与 vue 是有区别的，this.setState 类似程序</span></span><br><span class="line">        value: <span class="string">''</span><span class="comment">// 如何做到添加之后 value 为空啊？？？？？、</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">this</span>.setLocaleData()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  complete=<span class="function">(<span class="params">index,e</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">/* console.log(e,'9999',index) */</span></span><br><span class="line">    <span class="keyword">let</span> newList = <span class="keyword">this</span>.state.list</span><br><span class="line">    <span class="keyword">let</span> completeList = <span class="keyword">this</span>.state.completeList</span><br><span class="line">    <span class="keyword">let</span> value = newList.splice(index,<span class="number">1</span>)<span class="comment">//返回被删除的元素</span></span><br><span class="line">    completeList.push(value)</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      list: newList,<span class="comment">//这里一定是这样修改值，才行，与 vue 是有区别的，this.setState 类似程序</span></span><br><span class="line">      completeList:completeList</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">this</span>.setLocaleData()</span><br><span class="line">  &#125;</span><br><span class="line">  del=<span class="function">(<span class="params">index,e</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> completeList = <span class="keyword">this</span>.state.completeList</span><br><span class="line">    completeList.splice(index,<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      completeList:completeList</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">this</span>.setLocaleData()</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"Home"</span>&gt;</span><br><span class="line">        &lt;p&gt;&#123;<span class="keyword">this</span>.state.title&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">        &lt;Input</span></span><br><span class="line"><span class="regexp">          placeholder="请输入待办事项"</span></span><br><span class="line"><span class="regexp">          addonAfter=&#123;&lt;Button type="primary" ghost onClick=&#123;this.addList&#125;&gt;添加待办&lt;/</span>Button&gt;&#125;</span><br><span class="line">          size=<span class="string">"large"</span></span><br><span class="line">          value=&#123;<span class="keyword">this</span>.state.value&#125;</span><br><span class="line">          onChange=&#123;(e)=&gt; <span class="keyword">this</span>.getValue(e)&#125;</span><br><span class="line">          onPressEnter = &#123;<span class="keyword">this</span>.addList&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;br/&gt;</span><br><span class="line">        &lt;br/&gt;</span><br><span class="line">        &lt;List</span><br><span class="line">          header=&#123;&lt;div&gt;待办列表&lt;<span class="regexp">/div&gt;&#125;</span></span><br><span class="line"><span class="regexp">          /</span>* footer=&#123;&lt;div&gt;Footer&lt;<span class="regexp">/div&gt;&#125; */</span></span><br><span class="line">          bordered</span><br><span class="line">          dataSource=&#123;<span class="keyword">this</span>.state.list&#125;</span><br><span class="line">          renderItem=&#123;(item,index) =&gt; <span class="function">(<span class="params">&lt;List.Item actions=&#123;[&lt;Button size=<span class="string">'small'</span> onClick = &#123;(e</span>)=&gt;</span><span class="keyword">this</span>.complete(index,e)&#125;&gt;完成&lt;<span class="regexp">/Button&gt;]&#125;&gt;&#123;item&#125;&lt;/</span>List.Item&gt;)&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;br/&gt;</span><br><span class="line">        &lt;br/&gt;</span><br><span class="line">        &lt;List</span><br><span class="line">          header=&#123;&lt;div&gt;已完成列表&lt;<span class="regexp">/div&gt;&#125;</span></span><br><span class="line"><span class="regexp">          /</span>* footer=&#123;&lt;div&gt;Footer&lt;<span class="regexp">/div&gt;&#125; */</span></span><br><span class="line">          bordered</span><br><span class="line">          dataSource=&#123;<span class="keyword">this</span>.state.completeList&#125;</span><br><span class="line">          renderItem=&#123;(item,index) =&gt;<span class="function">(<span class="params">&lt;List.Item actions=&#123;[&lt;Button size=<span class="string">'small'</span> onClick = &#123;(e</span>)=&gt;</span><span class="keyword">this</span>.del(index,e)&#125;&gt;删除&lt;<span class="regexp">/Button&gt;] &#125;&gt;&#123;item&#125;&lt;/</span>List.Item&gt;)&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Home;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Login 组件</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./Login.scss'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>()&#123;</span><br><span class="line">    <span class="keyword">super</span>()</span><br><span class="line">    <span class="keyword">this</span>.state=&#123;</span><br><span class="line">      title:<span class="string">'欢迎使用待办列表APP'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"Login"</span>&gt;</span><br><span class="line">        &lt;tag&gt;&#123;<span class="keyword">this</span>.state.title&#125;&lt;<span class="regexp">/tag&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Login;</span><br></pre></td></tr></table></figure>
<h1 id="三、工作原理"><a href="#三、工作原理" class="headerlink" title="三、工作原理"></a>三、工作原理</h1><h2 id="3-1-路由器-Router"><a href="#3-1-路由器-Router" class="headerlink" title="3.1 路由器(Router)"></a>3.1 路由器(Router)</h2><p>在你开始项目前，你需要决定你使用的路由器的类型。对于网页项目，存在 <code>&lt;BrowserRouter&gt;</code> 与 <code>&lt;HashRouter&gt;</code>两种组件。<br>当存在服务区来管理动态请求时，需要使用 <code>&lt;BrowserRouter&gt;</code> 组件，而 <code>&lt;HashRouter&gt;</code> 被用于静态网站。</p>
<p>通常，我们更倾向选择 <code>&lt;BrowserRouter&gt;</code>，但如果你的网站仅用来呈现静态文件，那么 <code>&lt;HashRouter&gt;</code>将会是一个好选择。</p>
<p>对于我们的项目，将设将会有服务器的动态支持，因此我们选择 <code>&lt;BrowserRouter&gt;</code> 作为路由器组件。肯定现在做的都是需要服务器的。</p>
<p>渲染 <code>&lt;Router&gt;</code></p>
<p>路由器组件无法接受两个及以上的子元素。基于这种限制的存在，创建一个 <code>&lt;App&gt;</code> 组件来渲染应用其余部分是一个有效的方法（对于服务端渲染，将应用从 router 组件中分离也是重要的）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line">ReactDOM.render((</span><br><span class="line">  <span class="comment">// App 组件要包裹在 BrowserRouter 组件里面。</span></span><br><span class="line">  &lt;BrowserRouter&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;<span class="regexp">/BrowserRouter&gt;</span></span><br><span class="line"><span class="regexp">), document.getElementById('root'))</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实际项目中，通常不是上面那样来包裹 App 组件，而是下面这样来包裹的， 其实都是一样的。</span></span><br><span class="line"><span class="comment">// 习惯上是这样来的做的， router-react v4 官网也是这样来做的。</span></span><br><span class="line"><span class="comment">//App.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  BrowserRouter <span class="keyword">as</span> Router,<span class="comment">// 这里就是引入我们的 `&lt;BrowserRouter&gt;` 然后使用 Router 简写!!!!!!!!!!!!!!!!!!!!!!!1</span></span><br><span class="line">  Route<span class="comment">/* ,</span></span><br><span class="line"><span class="comment">  Link */</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span><span class="comment">//导入路由插件，组件</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Router&gt; &#123;<span class="comment">/* 在这个根组件，要有个 路由器 组件来包裹 */</span>&#125;</span><br><span class="line">      &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">        &lt;AuthButton/&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/public"</span>&gt;</span>公开页面<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">          &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/protected"</span>&gt;</span>非公开页面<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">        &lt;Route path="/</span>public<span class="string">" component=&#123;Public&#125;/&gt;</span></span><br><span class="line"><span class="string">        &lt;Route path="</span>/login<span class="string">" component=&#123;Login&#125;/&gt;</span></span><br><span class="line"><span class="string">        &lt;PrivateRoute path="</span>/protected<span class="string">" component=&#123;Protected&#125;/&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/Router&gt;</span></span><br><span class="line"><span class="string">    );</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default App;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// 通常都是这样来做成一个布局把。具体都是栏自己的项目页面的需求了</span></span><br><span class="line"><span class="string">/*</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line"><span class="string">  &lt;Header /&gt;</span></span><br><span class="line"><span class="string">  &lt;Main /&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt; */</span></span><br></pre></td></tr></table></figure>
<h2 id="3-2-历史-History"><a href="#3-2-历史-History" class="headerlink" title="3.2 历史(History)"></a>3.2 历史(History)</h2><p>每个路由器都会创建一个 history 对象并用其保持追踪当前 location 并且在有变化时对网站进行重新渲染。这个 history 对象保证了 React Router提供的其他组件的可用性，所以其他组件必须在 router 内部渲染。一个 React Router 组件如果向父级上追溯却找不到 router 组件，那么这个组件将无法正常工作。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [1] locations 是一个含有描述 URL 不同部分属性的对象：</span></span><br><span class="line"><span class="comment">// 一个基本的 location 对象</span></span><br><span class="line">&#123;</span><br><span class="line">  pathname: <span class="string">'/'</span>,</span><br><span class="line">  search: <span class="string">''</span>,</span><br><span class="line">  hash: <span class="string">''</span>,</span><br><span class="line">  key: <span class="string">'abc123'</span>,</span><br><span class="line">  state: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-3-路由-Route"><a href="#3-3-路由-Route" class="headerlink" title="3.3 路由(Route)"></a>3.3 路由(Route)</h2><p><code>&lt;Route&gt;</code> 组件是 React Router 中主要的结构单元。在任意位置只要匹配了URL 的路径名 (pathname) 你就可以创建 <route> 元素进行渲染。</route></p>
<h2 id="3-4-路径-Path"><a href="#3-4-路径-Path" class="headerlink" title="3.4 路径(Path)"></a>3.4 路径(Path)</h2><p><code>&lt;Route&gt;</code> 接受一个数为 string 类型的 path，该值路由匹配的路径名的类型。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当路径名为'/'时, path不匹配</span></span><br><span class="line"><span class="comment">// 当路径名为'/roster'或'/roster/2'时, path匹配</span></span><br><span class="line">&lt;Route path=<span class="string">'/roster'</span>/&gt;</span><br><span class="line"><span class="comment">// 当你只想匹配'/roster'时，你需要使用"exact"参数</span></span><br><span class="line"><span class="comment">// 则路由仅匹配'/roster'而不会匹配'/roster/2'</span></span><br><span class="line">&lt;Route exact path=<span class="string">'/roster'</span>/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意：在匹配路由时，React Router 只关注 location 的路径名。当 URL 如下时：</span></span><br><span class="line"><span class="comment">// http://www.example.com/my-projects/one?extra=false</span></span><br><span class="line"><span class="comment">// React Router 去匹配的只是 '/my-projects/one' 这一部分。</span></span><br></pre></td></tr></table></figure>
<p>注：你可以渲染无路径的 <code>&lt;Route&gt;</code>，其将会匹配所有 location。此法用于访问存在上下文中的变量与方法。????<br>例如：<code>&lt;Route path=&#39;/roster&#39;/&gt;</code> 会匹配以 /roster[注2] 开头的路径名。<br>[2] 在当前 path 参数与当前 location 的路径相匹配时，路由就会开始渲染 React 元素。若不匹配，路由不会进行任何操作[注3]。<br>[3] 如果你使用 children 参数，即便在当前 location 不匹配时 route 也将进行渲染。??????</p>
<h3 id="3-4-1-匹配路径-说的什么玩意"><a href="#3-4-1-匹配路径-说的什么玩意" class="headerlink" title="3.4.1 匹配路径**????说的什么玩意"></a>3.4.1 匹配路径**????说的什么玩意</h3><p>path-to-regexp 包用来决定 route 元素的 path 参数与当前 location 是否匹配。它将路径字符串编译成正则表达式，并与当前 location 的路径名进行匹配比较。除了上面的例子外，路径字符串有更多高级的选项，详见 [path-to-regexp文档]。<br>当路由地址匹配成功后，会创建一个含有以下属性的match对象：</p>
<p>url ：与当前 location 路径名所匹配部分<br>path ：路由的地址<br>isExact ：path 是否等于 pathname<br>params ：从 path-to-regexp 获取的路径中取出的值都被包含在这个对象中(传递的参数)</p>
<p>使用 <a href="https://pshrmn.github.io/route-tester/#/" target="_blank" rel="noopener">route tester</a> 这款工具来对路由与 URL 进行检验。</p>
<p>注意：本例中路由路径仅支持绝对路径[注4]。<br>//[4] 当需要支持相对路径的 <code>&lt;Route&gt;</code> 与 <code>&lt;Link&gt;</code> 时，你需要多做一些工作。相对 <link> 将会比你之前看到的更为复杂。<br>//    因其使用了父级的 match 对象而非当前 URL 来匹配相对路径。?????</p>
<h3 id="3-4-2-创建路由"><a href="#3-4-2-创建路由" class="headerlink" title="3.4.2 创建路由"></a>3.4.2 创建路由</h3><p>可以在 路由器 (router) 组件 中的任意位置创建多个 <code>&lt;Route&gt;</code>，但通常我们会把它们放在同一个位置。使用 <code>&lt;Switch&gt;</code> 组件来包裹一组 <code>&lt;Route&gt;</code>。<code>&lt;Switch&gt;</code>会遍历自身的子元素（即路由）并对 <strong>第一个匹配</strong> 当前路径的元素进行渲染。</p>
<p>对于本网站，我们希望匹配一下路径：</p>
<p>/ ： 主页<br>/roster ： 团体列表<br>/roster/:number ：运动员页面，使用运动员的编号作为标识<br>/schedule ：团队的赛程表</p>
<p>为了在应用中能匹配路径，在创建 <code>&lt;Route&gt;</code>元素时必须带有需要匹配的 path 作为参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Switch&gt;</span><br><span class="line">  &lt;Route exact path=<span class="string">'/'</span> component=&#123;Home&#125;/&gt;</span><br><span class="line">  &lt;Route path=<span class="string">'/roster'</span> component=&#123;Roster&#125;/&gt;  &#123;<span class="comment">/* both /roster and /roster/:number begin with /roster */</span>&#125;</span><br><span class="line">  &lt;Route path=<span class="string">'/schedule'</span> component=&#123;Schedule&#125;/&gt;</span><br><span class="line">&lt;<span class="regexp">/Switch&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-5-是如何渲染的"><a href="#3-5-是如何渲染的" class="headerlink" title="3.5  是如何渲染的"></a>3.5 <route> 是如何渲染的</route></h2><p>当一个路由的 path 匹配成功后，路由用来确定渲染结果的参数有 三种。只需要提供其中一个即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ① component: 一个 React 组件。当带有 component 参数的 route 匹配成功后，</span></span><br><span class="line"><span class="comment">// route 会返回一个新的元素，其为 component 参数所对应的 React组件（使用 React.createElement 创建）。</span></span><br><span class="line">&lt;Route path=<span class="string">'/page'</span> component=&#123;Page&#125; /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ② render :   一个返回 React element 的函数 [注5]。当匹配成功后调用该函数。</span></span><br><span class="line"><span class="comment">// 该过程与传入 component 参数类似，并且对于行级渲染与需要向元素传入额外参数的操作会更有用。????什么鬼意思</span></span><br><span class="line"><span class="comment">//[5] 这是一个本质上无状态的函数组件。内部实现，component 参数与 render 参数的组件是用很大的区别的。</span></span><br><span class="line"><span class="comment">//    使用 component 参数的组件会使用 React.createElement 来创建元素，</span></span><br><span class="line"><span class="comment">//    &lt;Route path='/one' component=&#123;One&#125;/&gt;        // React.createElement(props.component)</span></span><br><span class="line"><span class="comment">//    使用 render 参数的组件则会调用 render 函数。</span></span><br><span class="line"><span class="comment">//    &lt;Route path='/two' render=&#123;() =&gt; &lt;Two /&gt;&#125;/&gt; // props.render()</span></span><br><span class="line"><span class="comment">//    如果我们定义一个内联函数并将其传给 component 参数，这将会比使用 render 参数慢很多。</span></span><br><span class="line"><span class="keyword">const</span> extraProps = &#123; <span class="attr">color</span>: <span class="string">'red'</span> &#125;</span><br><span class="line">&lt;Route path=<span class="string">'/page'</span> render=&#123;(props) =&gt; (</span><br><span class="line">  &lt;Page &#123;...props&#125; data=&#123;extraProps&#125;/&gt;</span><br><span class="line">)&#125;/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ③ children : 一个返回 React element 的函数。与上述两个参数不同，无论 route 是否匹配当前 location，其都会被渲染!!!!!!!!!!!!!!</span></span><br><span class="line">&lt;Route path=<span class="string">'/page'</span> children=&#123;(props) =&gt; (</span><br><span class="line">  props.match</span><br><span class="line">    ? <span class="xml"><span class="tag">&lt;<span class="name">Page</span> &#123;<span class="attr">...props</span>&#125;/&gt;</span></span></span><br><span class="line">    : &lt;EmptyPage &#123;...props&#125;/&gt;</span><br><span class="line">)&#125;/&gt;</span><br></pre></td></tr></table></figure>
<p>通常 component 参数与 render 参数被更经常地使用。<strong>children 参数偶尔会被使用，它更常用在 path 无法匹配时呈现的’空’状态</strong>。在本例中并不会有额外的状态，所以我们将使用 <code>&lt;Route&gt;</code>的 component 参数。</p>
<p>通过 <code>&lt;Route&gt;</code> 渲染的元素会被传入一些参数。<strong>分别是 match 对象</strong>，当前 <strong>location 对象</strong>[注6] 以及 <strong>history 对象</strong>（由 router 创建）[注7]。<br>[6] <code>&lt;Route&gt;</code> 与 <code>&lt;Switch&gt;</code> 组件都会带有 location 参数。这能让你使用与实际 location 不同的 location 去匹配地址。?????<br>[7]  可以传入 staticContext 参数，不过这仅在服务端渲染时有用。??????</p>
<h2 id="3-7-路径参数"><a href="#3-7-路径参数" class="headerlink" title="3.7 路径参数"></a>3.7 路径参数</h2><p>this.props.match.params.xxx</p>
<h2 id="3-8-Link-链接"><a href="#3-8-Link-链接" class="headerlink" title="3.8 Link 链接"></a>3.8 Link 链接</h2><p>我们应用需要在各个页面间切换。如果使用锚点元素（就是）实现，在每次点击时页面将被重新加载。React Router 提供了 <code>&lt;Link&gt;</code> 组件用来避免这种状况的发生。当你点击 <code>&lt;Link&gt;</code>时，URL 会更新，组件会被重新渲染，但是页面不会重新加载。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Link &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"><span class="comment">//在项目中应该是 class 类来创建组件的</span></span><br><span class="line"><span class="keyword">const</span> Header = <span class="function"><span class="params">()</span> =&gt;</span> (</span><br><span class="line">  &lt;header&gt;</span><br><span class="line">    &lt;nav&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">'/'</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">'/roster'</span>&gt;</span>Roster<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">'/schedule'</span>&gt;</span>Schedule<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">      &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>nav&gt;</span><br><span class="line">  &lt;<span class="regexp">/header&gt;</span></span><br><span class="line"><span class="regexp">)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/&lt;Link&gt; 使用 'to' 参数来描述需要定位的页面。它的值即可是 字符串 也可是 location对象（包含pathname，search，hash与state属性）。</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ 一个基本的 location 对象</span></span><br><span class="line"><span class="regexp">/</span>*</span><br><span class="line">&#123;</span><br><span class="line">  pathname: <span class="string">'/'</span>,</span><br><span class="line">  search: <span class="string">''</span>,</span><br><span class="line">  hash: <span class="string">''</span>,</span><br><span class="line">  key: <span class="string">'abc123'</span>,</span><br><span class="line">  state: &#123;&#125;</span><br><span class="line">&#125; *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/如果其值为字符床将会被转换为 location 对象。</span></span><br><span class="line"><span class="regexp">`&lt;Link to=&#123;&#123; pathname: '/</span>roster/<span class="number">7</span><span class="string">' &#125;&#125;&gt;Player #7&lt;/Link&gt;` //本例的 link 的 pathname 属性只能是绝对路径？？？？？</span></span><br><span class="line"><span class="string">//[4] 当需要支持相对路径的 `&lt;Route&gt;` 与 `&lt;Link&gt;` 时，你需要多做一些工作。相对 &lt;Link&gt; 将会比你之前看到的更为复杂。</span></span><br><span class="line"><span class="string">//    因其使用了父级的 match 对象而非当前 URL 来匹配相对路径。?????</span></span><br></pre></td></tr></table></figure>
<h2 id="3-9-获取路由"><a href="#3-9-获取路由" class="headerlink" title="3.9 获取路由"></a>3.9 获取路由</h2><p>我们已经了解了构建网站所需要的所有必须组件（<code>&lt;BrowserRouter&gt;</code>, <code>&lt;Route&gt;</code>, 以及 <code>&lt;Link&gt;</code>）。当然，还有一些我们没有涉及的组件。所幸React Router 拥有优质的文档，可以查看并从中了解更多的信息。文档也提供一系列的例子与源代码。</p>
<h1 id="三、路由传值"><a href="#三、路由传值" class="headerlink" title="三、路由传值"></a>三、路由传值</h1><h2 id="3-1-to-动态路由传值-componentDidMount-生命周期获取值"><a href="#3-1-to-动态路由传值-componentDidMount-生命周期获取值" class="headerlink" title="3.1 to 动态路由传值- componentDidMount 生命周期获取值"></a>3.1 to 动态路由传值- componentDidMount 生命周期获取值</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//App.js  路由设置</span></span><br><span class="line"> &lt;Route exact path=<span class="string">"/"</span> component=&#123;Home&#125; /&gt;</span><br><span class="line"> &lt;Route path=<span class="string">"/news"</span> component=&#123;News&#125; /&gt;</span><br><span class="line"> &lt;Route path=<span class="string">"/product"</span> component=&#123;Product&#125; /&gt;</span><br><span class="line"> &lt;Route path=<span class="string">"/productcontent"</span> component=&#123;ProductContent&#125; /&gt;</span><br><span class="line"> &lt;Route path=<span class="string">"/content/:aid"</span> component=&#123;Content&#125; /&gt;  <span class="comment">// 路由的传值与 link 连接处相互对应起来</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//new.js 路由发起页面</span></span><br><span class="line"><span class="keyword">this</span>.state = &#123;  </span><br><span class="line">    list:[</span><br><span class="line">        &#123;</span><br><span class="line">            aid:<span class="string">'11'</span>,</span><br><span class="line">            title:<span class="string">'我是新闻1111'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            aid:<span class="string">'222'</span>,</span><br><span class="line">            title:<span class="string">'我是新闻222'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            aid:<span class="string">'3'</span>,</span><br><span class="line">            title:<span class="string">'我是新闻333'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            aid:<span class="string">'4'</span>,</span><br><span class="line">            title:<span class="string">'我是新闻4444'</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 下面就是动态传值</span></span><br><span class="line">&lt;li key=&#123;key&#125;&gt;</span><br><span class="line">  &lt;Link to=&#123;<span class="string">`/content/<span class="subst">$&#123;value.aid&#125;</span>`</span>&#125;&gt;&#123;value.title&#125;&lt;<span class="regexp">/Link&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>li&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//content.js 路由跳转到页面</span></span><br><span class="line"><span class="comment">// props 获取传值</span></span><br><span class="line"><span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">  <span class="keyword">super</span>(props);</span><br><span class="line">  <span class="keyword">this</span>.state = &#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//生命周期函数</span></span><br><span class="line">componentDidMount()&#123;</span><br><span class="line">  <span class="comment">//获取动态路由的传值</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.props.match.params.aid);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-2-url-get-传值-componentDidMount-生命周期获取值"><a href="#3-2-url-get-传值-componentDidMount-生命周期获取值" class="headerlink" title="3.2 url get 传值-componentDidMount 生命周期获取值"></a>3.2 url get 传值-componentDidMount 生命周期获取值</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//new.js 路由发起页面</span></span><br><span class="line"><span class="keyword">this</span>.state = &#123;  </span><br><span class="line">    list:[</span><br><span class="line">        &#123;</span><br><span class="line">            aid:<span class="string">'11'</span>,</span><br><span class="line">            title:<span class="string">'我是新闻1111'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            aid:<span class="string">'222'</span>,</span><br><span class="line">            title:<span class="string">'我是新闻222'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            aid:<span class="string">'3'</span>,</span><br><span class="line">            title:<span class="string">'我是新闻333'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            aid:<span class="string">'4'</span>,</span><br><span class="line">            title:<span class="string">'我是新闻4444'</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 下面就是动态传值</span></span><br><span class="line">&lt;li key=&#123;key&#125;&gt;</span><br><span class="line">  &lt;Link to=&#123;<span class="string">`/content/<span class="subst">$&#123;value.aid&#125;</span>`</span>&#125;&gt;&#123;value.title&#125;&lt;<span class="regexp">/Link&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>li&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//content.js 路由跳转到页面</span></span><br><span class="line"><span class="comment">// props 获取传值</span></span><br><span class="line"><span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">  <span class="keyword">super</span>(props);</span><br><span class="line">  <span class="keyword">this</span>.state = &#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//生命周期函数</span></span><br><span class="line">componentDidMount()&#123;</span><br><span class="line">  <span class="comment">//获取动态路由的传值</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.props.location.serach);  <span class="comment">// 这个获取到的是 ？ 号后面的一串字符串，需要解析。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-3-缓存传值"><a href="#3-3-缓存传值" class="headerlink" title="3.3 缓存传值"></a>3.3 缓存传值</h2><h1 id="五、"><a href="#五、" class="headerlink" title="五、"></a>五、</h1><h2 id="5-1-基本-Basic"><a href="#5-1-基本-Basic" class="headerlink" title="5.1 基本 Basic"></a>5.1 基本 Basic</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//App.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter <span class="keyword">as</span> Router, Route, Link &#125; <span class="keyword">from</span> <span class="string">"react-router-dom"</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'../views/Home/Home'</span>;</span><br><span class="line"><span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">'../views/Login/Login'</span>;</span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">'../views/About/About'</span>;</span><br><span class="line"><span class="keyword">import</span> Topics <span class="keyword">from</span> <span class="string">'../views/Topics/Topics'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Router&gt;&#123; <span class="comment">/* 只有根组件才需要这个 &lt;Router&gt; 标签 */</span>&#125;</span><br><span class="line">        &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">          &#123;<span class="comment">/* 导航 */</span>&#125;</span><br><span class="line">          &lt;ul&gt;</span><br><span class="line">            &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">            &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/about"</span>&gt;</span>About<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">            &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/topics"</span>&gt;</span>Topics<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">          &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">          &#123;/</span>* <span class="number">1</span> 级路由配置 exact 表示精确查看，如果没有的话 路径 / 就会匹配到很多页面了*<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">          &lt;Route exact path="/</span><span class="string">" component=&#123;Home&#125; /&gt;</span></span><br><span class="line"><span class="string">          &lt;Route path="</span>/login<span class="string">" component=&#123;Login&#125; /&gt;</span></span><br><span class="line"><span class="string">          &lt;Route path="</span>/about<span class="string">" component=&#123;About&#125; /&gt;</span></span><br><span class="line"><span class="string">          &lt;Route path="</span>/topics<span class="string">" component=&#123;Topics&#125; /&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/Router&gt;</span></span><br><span class="line"><span class="string">    );</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default App;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Home.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter <span class="keyword">as</span> Router, Route, Link &#125; <span class="keyword">from</span> <span class="string">"react-router-dom"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"Home"</span>&gt;</span><br><span class="line">        &lt;h2&gt;Home&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Home;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Login.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter <span class="keyword">as</span> Router, Route, Link &#125; <span class="keyword">from</span> <span class="string">"react-router-dom"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"Login"</span>&gt;</span><br><span class="line">        &lt;h2&gt;Login&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Login;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//About.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter <span class="keyword">as</span> Router, Route, Link &#125; <span class="keyword">from</span> <span class="string">"react-router-dom"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">About</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"About"</span>&gt;</span><br><span class="line">        &lt;h2&gt;About&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> About;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Topics.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter <span class="keyword">as</span> Router, Route, Link &#125; <span class="keyword">from</span> <span class="string">"react-router-dom"</span>;</span><br><span class="line"><span class="keyword">import</span> Topic <span class="keyword">from</span> <span class="string">'Topic'</span>;<span class="comment">//这个子组件应该放在哪里比较好呢？？？</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Topics</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props)&#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state=&#123;</span><br><span class="line">      list: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"Topics"</span>&gt;</span><br><span class="line">        &lt;h2&gt;Topicst&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">        &lt;ul&gt;</span></span><br><span class="line"><span class="regexp">        &#123; /</span>* 这里是 <span class="number">3</span> 个链接，怎么下面路由只有两个？？？看不懂啊 *<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">          &lt;li&gt;&lt;Link to=&#123;`$&#123;this.props.match.url&#125;/</span>rendering<span class="string">`&#125;&gt;Rendering with React&lt;/Link&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">          &lt;li&gt;&lt;Link to=&#123;`</span>$&#123;<span class="keyword">this</span>.props.match.url&#125;/components<span class="string">`&#125;&gt;Components&lt;/Link&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">          &lt;li&gt;&lt;Link to=&#123;`</span>$&#123;<span class="keyword">this</span>.props.match.url&#125;/props-v-state<span class="string">`&#125;&gt;Props v. State&lt;/Link&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;/ul&gt;</span></span><br><span class="line"><span class="string">        &#123; /* 这里是 2 级 路由 外层不需要 router 标签了？？？？？？？</span></span><br><span class="line"><span class="string">          还有为什么要 <span class="subst">$&#123;<span class="keyword">this</span>.props.match.path&#125;</span> 一定这样么？？可以用它字符串地址的吧？</span></span><br><span class="line"><span class="string">          还是为了后期不需要更改 二级路由的 url 与 路径？方便管理用的？*/&#125;</span></span><br><span class="line"><span class="string">        &lt;Route path=&#123;`</span>$&#123;<span class="keyword">this</span>.props.match.path&#125;/:topicId<span class="string">`&#125; component=&#123;Topic&#125; /&gt;</span></span><br><span class="line"><span class="string">        &lt;Route</span></span><br><span class="line"><span class="string">          exact</span></span><br><span class="line"><span class="string">          path=&#123;this.props.match.path&#125;</span></span><br><span class="line"><span class="string">          render=&#123;() =&gt; &lt;h3&gt;Please select a topic.&lt;/h3&gt;&#125;</span></span><br><span class="line"><span class="string">        /&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    );</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default Topics;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Topic.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter <span class="keyword">as</span> Router, Route, Link &#125; <span class="keyword">from</span> <span class="string">"react-router-dom"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Topic</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props)&#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state=&#123;</span><br><span class="line">      list: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"Topic"</span>&gt;</span><br><span class="line">        &lt;h3&gt;&#123;<span class="keyword">this</span>.props.match.params.topicId&#125;&lt;<span class="regexp">/h3&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Topic;</span><br></pre></td></tr></table></figure>
<h2 id="5-2-URL-参数-URL-Parameters"><a href="#5-2-URL-参数-URL-Parameters" class="headerlink" title="5.2 URL 参数 URL Parameters"></a>5.2 URL 参数 URL Parameters</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//App.js 根组件</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">  Route,</span><br><span class="line">  Link</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"><span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">'./Child'</span></span><br><span class="line"><span class="keyword">import</span> ComponentWithRegex <span class="keyword">from</span> <span class="string">'./ComponentWithRegex'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Router&gt;</span><br><span class="line">       &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">          &lt;ul&gt;</span><br><span class="line">            &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/netflix"</span>&gt;</span>Netflix<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">            &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/zillow-group"</span>&gt;</span>Zillow Group<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">            &lt;li&gt; <span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/yahoo"</span>&gt;</span>Yahoo<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">            &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/modus-create"</span>&gt;</span>Modus Create<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">          &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">          &lt;Route path="/</span>:id<span class="string">" component=&#123;Child&#125; /&gt;  &#123; /* 传递参数 id */ &#125;</span></span><br><span class="line"><span class="string">          &lt;Route</span></span><br><span class="line"><span class="string">            path="</span>/order/:direction(asc|desc)<span class="string">"     &#123; /* 传递参数 :direction(asc|desc) */ &#125;</span></span><br><span class="line"><span class="string">            component=&#123;ComponentWithRegex&#125;</span></span><br><span class="line"><span class="string">          /&gt;</span></span><br><span class="line"><span class="string">       &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/Router&gt;</span></span><br><span class="line"><span class="string">    );</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default App;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Child 组件</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">  Route,</span><br><span class="line">  Link</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props)&#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state=&#123;</span><br><span class="line">      <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"Child"</span>&gt;</span><br><span class="line">        &lt;h3&gt;ID: &#123;<span class="keyword">this</span>.props.match.params.id&#125;&lt;<span class="regexp">/h3&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Child;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ComponentWithRegex 组件</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">  Route,</span><br><span class="line">  Link</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ComponentWithRegex</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props)&#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state=&#123;</span><br><span class="line">      <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"ComponentWithRegex"</span>&gt;</span><br><span class="line">        &lt;h3&gt;Only asc/desc are allowed: &#123;<span class="keyword">this</span>.props.match.params.direction&#125;&lt;<span class="regexp">/h3&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> ComponentWithRegex;</span><br></pre></td></tr></table></figure>
<h2 id="5-3-认证重定向-Redirects-Auth-？？？？？？？？？？？、实在是看不懂"><a href="#5-3-认证重定向-Redirects-Auth-？？？？？？？？？？？、实在是看不懂" class="headerlink" title="5.3 认证重定向 Redirects (Auth) ？？？？？？？？？？？、实在是看不懂"></a>5.3 认证重定向 Redirects (Auth) ？？？？？？？？？？？、实在是看不懂</h2><p>在 3.x 版本中的 Router 里需配置 history 属性,<br>当前版本中无需配置此属性，4.x 版本中提供 三种不同的路由组件用来代替 history 属性的作用，分别是<br><code>&lt;BrowserRouter&gt;</code>：<br><code>&lt;HashRouter&gt;</code>：有 # 号，一般不会使用这个<br><code>&lt;MemoryRouter&gt;</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//App.js 根组件</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">  Route,</span><br><span class="line">  Link,</span><br><span class="line">  <span class="comment">// 需要重定向的，还有 2 个需要导入 重定向 Redirect 与 是否推入 history 栈 withRouter</span></span><br><span class="line">  Redirect,</span><br><span class="line">  withRouter</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"><span class="keyword">import</span> Public <span class="keyword">from</span> <span class="string">'./Public'</span><span class="comment">// 不需要登录就可以访问的页面</span></span><br><span class="line"><span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">'./Login'</span></span><br><span class="line"><span class="keyword">import</span> Protected <span class="keyword">from</span> <span class="string">'./Protected'</span><span class="comment">// 需要登录之后才能登录的页面</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Router&gt;</span><br><span class="line">        &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">          &lt;AuthButton/&gt;</span><br><span class="line">          &lt;ul&gt;</span><br><span class="line">            &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/public"</span>&gt;</span>公开页面<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">            &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/protected"</span>&gt;</span>非公开页面<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">          &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">          &lt;Route path="/</span>public<span class="string">" component=&#123;Public&#125;/&gt;</span></span><br><span class="line"><span class="string">          &lt;Route path="</span>/login<span class="string">" component=&#123;Login&#125;/&gt;</span></span><br><span class="line"><span class="string">          &lt;PrivateRoute path="</span>/protected<span class="string">" component=&#123;Protected&#125;/&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/Router&gt;</span></span><br><span class="line"><span class="string">    );</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default App;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//AuthButton.js 组件</span></span><br><span class="line"><span class="keyword">const</span> AuthButton = withRouter(<span class="function">(<span class="params">&#123; history &#125;</span>) =&gt;</span> (</span><br><span class="line">  fakeAuth.isAuthenticated ? (</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">      欢迎! <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="xml">        fakeAuth.signout(() =&gt; history.push('/'))</span></span><br><span class="line"><span class="xml">      &#125;&#125;&gt;登出<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    &lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  ) : (</span></span><br><span class="line"><span class="regexp">    &lt;p&gt;请先登录&lt;/</span>p&gt;</span><br><span class="line">  )</span><br><span class="line">))</span><br></pre></td></tr></table></figure>
<h2 id="5-4-自定义链接"><a href="#5-4-自定义链接" class="headerlink" title="5.4 自定义链接"></a>5.4 自定义链接</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//App.js</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./App.scss'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'../interactor.js'</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">  Route,</span><br><span class="line">  Link<span class="comment">/* ,</span></span><br><span class="line"><span class="comment">  Redirect,</span></span><br><span class="line"><span class="comment">  withRouter */</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"><span class="keyword">import</span> OldSchoolMenuLink <span class="keyword">from</span> <span class="string">'../component/OldSchoolMenuLink'</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'../pages/Home'</span></span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">'../pages/About'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Router&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;OldSchoolMenuLink activeOnlyWhenExact=&#123;<span class="literal">true</span>&#125; to=<span class="string">"/"</span> label=<span class="string">"首页"</span>/&gt;</span><br><span class="line">        &lt;OldSchoolMenuLink to=<span class="string">"/about"</span> label=<span class="string">"关于"</span>/&gt;</span><br><span class="line">        &lt;hr/&gt;</span><br><span class="line">        &lt;Route exact path=<span class="string">"/"</span> component=&#123;Home&#125;/&gt;</span><br><span class="line">        &lt;Route path=<span class="string">"/about"</span> component=&#123;About&#125;/&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>Router&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OldSchoolMenuLink 组件</span></span><br><span class="line"><span class="keyword">const</span> OldSchoolMenuLink = <span class="function">(<span class="params">&#123; label, to, activeOnlyWhenExact &#125;</span>) =&gt;</span> (</span><br><span class="line">  &lt;Route path=&#123;to&#125; exact=&#123;activeOnlyWhenExact&#125; children=&#123;(&#123; match &#125;) =&gt; (</span><br><span class="line">    &lt;div className=&#123;match ? <span class="string">'active'</span> : <span class="string">''</span>&#125;&gt;</span><br><span class="line">      &#123;match ? <span class="string">'&gt; '</span> : <span class="string">''</span>&#125;&lt;Link to=&#123;to&#125;&gt;&#123;label&#125;&lt;<span class="regexp">/Link&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  )&#125;/&gt;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h1 id="十五、各种错误"><a href="#十五、各种错误" class="headerlink" title="十五、各种错误"></a>十五、各种错误</h1><h2 id="15-1-这个错误是路由配置导致的其实，？？？？？？"><a href="#15-1-这个错误是路由配置导致的其实，？？？？？？" class="headerlink" title="15.1 这个错误是路由配置导致的其实，？？？？？？"></a>15.1 这个错误是路由配置导致的其实，？？？？？？</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Warning: Can’t perform a React state update on an unmounted component. <span class="comment"># 警告：无法对卸载的组件执行React状态更新。</span></span><br><span class="line">This is a no-op, but it indicates a memory leak <span class="keyword">in</span> your application.<span class="comment">#这是一个无操作，但它表示应用程序中存在内存泄漏。</span></span><br><span class="line">To fix, cancel all subscriptions and asynchronous tasks <span class="keyword">in</span> the componentWillUnmount method.</span><br><span class="line"><span class="comment">#要修复，请取消 componentWillUnmount 中的所有订阅 和 异步任务方法。</span></span><br></pre></td></tr></table></figure>
<p>但是其实现在 componentWillUnmount 周期函数已经不推荐使用的，在组件中也没有使用这个周期函数，还是报出这个错误。</p>
</div><div class="tags"></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2018/08/19/⑨-【HTTP】-HTTP-网络请求-入门/" class="pre">HTTP--[小白入门版、速学版]</a><a href="/2018/08/19/【react.js 框架 】-入门/" class="next">react.js--入门教程</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一、前言"><span class="toc-text">一、前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二、React-Router-V4-讲解"><span class="toc-text">二、React Router V4 讲解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-react-router-和-react-router-dom-还有-react-router-native-的区别"><span class="toc-text">2.1 react-router 和 react-router-dom 还有 react-router-native 的区别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二、安装引入"><span class="toc-text">二、安装引入</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-npm-安装、引入"><span class="toc-text">2.1 npm 安装、引入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-create-react-app-2-0-项目示例-！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！"><span class="toc-text">2.3 create-react-app 2.0 项目示例!!!!!!!!!!!!!!!!！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-React-Router-4-0-之前"><span class="toc-text">2.3.1 React Router 4.0 之前</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-React-Router-4-0"><span class="toc-text">2.3.1 React Router 4.0+</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三、工作原理"><span class="toc-text">三、工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-路由器-Router"><span class="toc-text">3.1 路由器(Router)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-历史-History"><span class="toc-text">3.2 历史(History)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-路由-Route"><span class="toc-text">3.3 路由(Route)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-路径-Path"><span class="toc-text">3.4 路径(Path)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-1-匹配路径-说的什么玩意"><span class="toc-text">3.4.1 匹配路径**????说的什么玩意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-2-创建路由"><span class="toc-text">3.4.2 创建路由</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-是如何渲染的"><span class="toc-text">3.5  是如何渲染的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-7-路径参数"><span class="toc-text">3.7 路径参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-8-Link-链接"><span class="toc-text">3.8 Link 链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-9-获取路由"><span class="toc-text">3.9 获取路由</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三、路由传值"><span class="toc-text">三、路由传值</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-to-动态路由传值-componentDidMount-生命周期获取值"><span class="toc-text">3.1 to 动态路由传值- componentDidMount 生命周期获取值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-url-get-传值-componentDidMount-生命周期获取值"><span class="toc-text">3.2 url get 传值-componentDidMount 生命周期获取值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-缓存传值"><span class="toc-text">3.3 缓存传值</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#五、"><span class="toc-text">五、</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-基本-Basic"><span class="toc-text">5.1 基本 Basic</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-URL-参数-URL-Parameters"><span class="toc-text">5.2 URL 参数 URL Parameters</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-认证重定向-Redirects-Auth-？？？？？？？？？？？、实在是看不懂"><span class="toc-text">5.3 认证重定向 Redirects (Auth) ？？？？？？？？？？？、实在是看不懂</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-自定义链接"><span class="toc-text">5.4 自定义链接</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十五、各种错误"><span class="toc-text">十五、各种错误</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#15-1-这个错误是路由配置导致的其实，？？？？？？"><span class="toc-text">15.1 这个错误是路由配置导致的其实，？？？？？？</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/">① html-css</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/Normalize-css/">Normalize.css</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/css/">css</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/css1/">css1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/html1/">html1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/html5/">html5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/less/">less</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/">② Javascript-ES6-Typescript</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/ES6/">ES6</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/Javascript/">Javascript</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/TypeScript/">TypeScript</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/">③ Jquery.js</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/JQurey-UI/">JQurey-UI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/Jquery-js-框架学习/">Jquery.js 框架学习</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/ajax-前后端数据交互/">ajax 前后端数据交互</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/">④  vue.js</a><span class="category-list-count">21</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/axios-前后端数据交互/">axios 前后端数据交互</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-中使用-less-scss-等预处理器/">vue 中使用 less/scss 等预处理器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-cli-脚手架/">vue-cli 脚手架</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-router-路由设置/">vue-router 路由设置</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-js-框架学习/">vue.js 框架学习</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-js-的-UI-组件库/">vue.js 的 UI 组件库</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vuex-状态管理器/">vuex 状态管理器</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/">⑤ react.js</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/axios-在-react-js-中使用/">axios 在 react.js 中使用</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/create-react-app-脚手架/">create-react-app 脚手架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/less-scss/">less/scss</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/mixins-混合组件-与-hoc-高阶组件/">mixins 混合组件 与 hoc 高阶组件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/react-router-v4-路由管理器/">react-router v4 路由管理器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/react-js-框架学习/">react.js 框架学习</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/react-js-的-UI-组件库/">react.js 的 UI 组件库</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/taro-js-多终端框架-京东/">taro.js 多终端框架(京东)</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/状态管理器/">状态管理器</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑥-react-native-js/">⑥ react-native.js</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑥-react-native-js/react-native-框架/">react-native 框架</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/">⑦ 小程序</a><span class="category-list-count">10</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/MINA-框架/">MINA 框架</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/mpvue-框架/">mpvue 框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/wepy-框架/">wepy 框架</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/">⑧ JS 工具集/ JS拓展语言</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/JSL-拓展语言/">JSL 拓展语言</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/day-js-框架/">day.js 框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/node-js-语言/">node.js 语言</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/render-函数/">render 函数</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/阿里矢量图用法（字符实体）/">阿里矢量图用法（字符实体）</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑨-HTTP/">⑨ HTTP</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github上传下载工具/">⑩ 打包工具-命令行工具-包管理器-github上传下载工具</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github上传下载工具/github/">github</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github上传下载工具/npm-yarn/">npm & yarn</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github上传下载工具/webpack/">webpack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github上传下载工具/编辑器/">编辑器</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑪-网站部署/">⑪ 网站部署</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑫-综合实战项目/">⑫ 综合实战项目</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑫-综合实战项目/jQuery/">jQuery</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑫-综合实战项目/vue/">vue</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑬-数据结构与算法/">⑬ 数据结构与算法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑭-静态网页生成器/">⑭ 静态网页生成器</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑭-静态网页生成器/hexo/">hexo</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/㊿-无关编程/">㊿ 无关编程</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/flex/" style="font-size: 15px;">flex</a> <a href="/tags/animation-动画/" style="font-size: 15px;">animation 动画</a> <a href="/tags/cookie-session-token/" style="font-size: 15px;">cookie,session,token</a> <a href="/tags/gradients-线性/" style="font-size: 15px;">gradients 线性</a> <a href="/tags/transition-过渡/" style="font-size: 15px;">transition 过渡</a> <a href="/tags/ESlint之坑/" style="font-size: 15px;">ESlint之坑</a> <a href="/tags/transform-转换-变形/" style="font-size: 15px;">transform 转换/变形</a> <a href="/tags/立即执行函数/" style="font-size: 15px;">立即执行函数</a> <a href="/tags/递归函数/" style="font-size: 15px;">递归函数</a> <a href="/tags/Jquery-ajax/" style="font-size: 15px;">Jquery->ajax</a> <a href="/tags/interceptor-请求拦截器/" style="font-size: 15px;">interceptor 请求拦截器</a> <a href="/tags/v-charts-图标库/" style="font-size: 15px;">v-charts 图标库</a> <a href="/tags/axios-使用于-vue-js-react-js/" style="font-size: 15px;">axios(使用于 vue.js react.js)</a> <a href="/tags/react-js事件处理/" style="font-size: 15px;">react.js事件处理</a> <a href="/tags/react-js-生命周期/" style="font-size: 15px;">react.js 生命周期</a> <a href="/tags/react-js-组件传值/" style="font-size: 15px;">react.js 组件传值</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/08/15/[html-css]-css-float 浮动/">css--[盒状模型：display:inline-block + position 属性 + float 属性]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/06/⑧-【JS 工具集-拓展语言】-node.js- 爬虫/">node.js--爬虫</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/{ vue.js 框架 }-new Vue&&component/">new Vue({}) 与 export default{} 选项的写法区分</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-ES6-基础入门/">ES6【1】--[ECMAScript 6 入门]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-js-cookie-token/">JavaScript【1】--[cookie,session,token 详解]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-js-new Date() 日期时间处理/">JavaScript---new Date]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/==【命令-工具】github==简单使用教程/">git 使用教程-常用的操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/㊿ 其他---Foxmail邮箱使用/">【Foxmail】-添加 163.com 网易邮箱账号不成功 POP,MAP</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/㊿ - 其他---带圈数字输出/">【圈数字】-与编程无关的圈数字输出①②③④⑤⑥⑦⑧⑨⑩⑪⑫⑬⑭⑮⑯⑰⑱⑲⑳</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/⑬ -数据结构与算法-JS-入门/">JavaScript 数据结构与算法【1】--[入门版]</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://blog.foryung.com/" title="Gofoer" target="_blank">Gofoer</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p></p><p><span> &nbsp;&nbsp;Copyright &copy;2018&nbsp;<a href="/." rel="nofollow">小米粥.</a></span><span> <a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> </a></span><span> <a href="http://busuanzi.ibruce.info/"> </a></span><span> <a rel="nofollow" target="_blank" href="https://hexo.io"> </a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>