<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="小米粥e博客"><meta name="keywords" content="html, css, vue, JavaScript,js,vuex,element-ui,iveiw-ui,axios"><title>axios 小白入门篇、速学篇 | liuxmoo</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">axios 小白入门篇、速学篇</h1><a id="logo" href="/.">liuxmoo</a><p class="description">半路被拎来的前端。(*^▽^*)。学习最快的方法→慢慢来</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">axios 小白入门篇、速学篇</h1><div class="post-meta"><a href="/2018/08/19/{ vue.js 框架 } axios 前后端数据交换/#comments" class="comment-count"></a><p><span class="date">Aug 19, 2018</span><span><a href="/categories/④-vue-js/" class="category">④  vue.js</a><a href="/categories/④-vue-js/axios-前后端数据交互/" class="category">axios 前后端数据交互</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h1 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h1><h2 id="一、-axios-简介"><a href="#一、-axios-简介" class="headerlink" title="一、 axios 简介"></a>一、 axios 简介</h2><p>Vue 原本有一个官方推荐的 ajax 插件 vue-resource，但是自从 Vue 更新到 2.0 之后，官方就不再更新 vue-resource，不再维护了，后面更新版本的 vue.js 框架项目都是使用 axios 来做请求后端操作。</p>
<p>axios 是一个基于 Promise 用于浏览器和 nodejs 的 HTTP 客户端，它本身具有以下特征：</p>
<ul>
<li>从浏览器中创建 XMLHttpRequest</li>
<li>从 node.js 发出 http 请求</li>
<li>支持 Promise API</li>
<li>拦截请求和响应</li>
<li>转换请求和响应数据</li>
<li>取消请求</li>
<li>自动转换 JSON 数据</li>
<li>客户端支持防止 <a href="https://baike.baidu.com/item/CSRF/2735433?fr=aladdin" target="_blank" rel="noopener">CSRF</a>/XSRF</li>
</ul>
<p><a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener">网站学习</a></p>
<h2 id="三、-axios-发送请求（执行单个请求）"><a href="#三、-axios-发送请求（执行单个请求）" class="headerlink" title="三、 axios 发送请求（执行单个请求）"></a>三、 axios 发送请求（执行单个请求）</h2><h3 id="3-1-执行-GET-请求-（几种方法）"><a href="#3-1-执行-GET-请求-（几种方法）" class="headerlink" title="3.1 执行 GET 请求 （几种方法）"></a>3.1 执行 GET 请求 （几种方法）</h3><h4 id="3-1-1-改造-url-传参（不建议这样传参）（别名方法）"><a href="#3-1-1-改造-url-传参（不建议这样传参）（别名方法）" class="headerlink" title="3.1.1 改造 url 传参（不建议这样传参）（别名方法）"></a>3.1.1 改造 url 传参（不建议这样传参）（别名方法）</h4><p>语法：<code>axios.get(&#39;/user?ID=12345&#39;)</code></p>
<p>在使用别名方法时， url、method、data 这些属性都不必在配置中指定。</p>
<ul>
<li>method 提到外面跟在 axios 后面用 点 操作了</li>
<li>url 在 （） 中 作为第一个参数</li>
<li>data 作为第二个参数</li>
<li>其他的配置项还是写在 {} 配置对象中</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//向具有指定 ID 的用户发出请求</span></span><br><span class="line"><span class="comment">// 方法 ① 为给定 ID 的 user 创建请求</span></span><br><span class="line">axios.get(<span class="string">'/user?ID=12345'</span>)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<h4 id="3-1-2-使用-params-对象传参（这样来使用传参比较好）（别名方法）"><a href="#3-1-2-使用-params-对象传参（这样来使用传参比较好）（别名方法）" class="headerlink" title="3.1.2 使用 params 对象传参（这样来使用传参比较好）（别名方法）"></a>3.1.2 使用 params 对象传参（这样来使用传参比较好）（别名方法）</h4><p>上面的是将需要传递的参数 用 ？ 与 = 号放到 url 中，下面这种方法看起来比较好，需要传递的参数一眼就可以看出来，如果需要传递的的参数多了也好写，用下面这种办法比较好吧。具体看自己习惯怎么用了</p>
<p>语法：<br>  axios.get(‘url’,{<br>    params:{},<br>    orthers:{}<br>  })</p>
<p>  在使用别名方法时， url、method、data 这些属性都不必在配置中指定。</p>
<ul>
<li>method 提到外面跟在 axios 后面用 点 操作了</li>
<li>url 在 （） 中 作为第一个参数</li>
<li>data 作为第二个参数</li>
<li>其他的配置项还是写在 {} 配置对象中</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法 ② ：通过 params 对象传递参数</span></span><br><span class="line">axios.get(<span class="string">'/user'</span>, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">      ID: <span class="number">12345</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<h4 id="3-1-3-可以通过向-axios-传递相关配置来创建请求-传参（配置请求，是最原始的方法吧？）"><a href="#3-1-3-可以通过向-axios-传递相关配置来创建请求-传参（配置请求，是最原始的方法吧？）" class="headerlink" title="3.1.3 可以通过向 axios 传递相关配置来创建请求 传参（配置请求，是最原始的方法吧？）"></a>3.1.3 可以通过向 axios 传递相关配置来创建请求 传参（配置请求，是最原始的方法吧？）</h4><p>语法：axios({})</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// 发送 GET 请求（默认的方法）</span></span><br><span class="line">axios(<span class="string">'/user/12345'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="3-2-POST-请求"><a href="#3-2-POST-请求" class="headerlink" title="3.2 POST 请求"></a>3.2 POST 请求</h3><h4 id="3-2-1-改造-url-的方法（不推荐用这里不写了）"><a href="#3-2-1-改造-url-的方法（不推荐用这里不写了）" class="headerlink" title="3.2.1 改造 url 的方法（不推荐用这里不写了）"></a>3.2.1 改造 url 的方法（不推荐用这里不写了）</h4><h4 id="3-2-2-使用-params-对象（别名方法）"><a href="#3-2-2-使用-params-对象（别名方法）" class="headerlink" title="3.2.2 使用 params 对象（别名方法）"></a>3.2.2 使用 params 对象（别名方法）</h4><p>在使用别名方法时， url、method、data 这些属性都不必在配置中指定。</p>
<ul>
<li>method 提到外面跟在 axios 后面用 点 操作了</li>
<li>url 在 （） 中 作为第一个参数</li>
<li>data 作为第二个参数</li>
<li>其他的配置项还是写在 {} 配置对象中</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 别名方法</span></span><br><span class="line">axios.post(<span class="string">'/user'</span>, &#123;</span><br><span class="line">  firstName: <span class="string">'Fred'</span>,</span><br><span class="line">  lastName: <span class="string">'Flintstone'</span></span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(response);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="3-2-3-请求配置方法：axios-API-使用配置方法请求后端（配置请求方法）"><a href="#3-2-3-请求配置方法：axios-API-使用配置方法请求后端（配置请求方法）" class="headerlink" title="3.2.3 请求配置方法：axios API 使用配置方法请求后端（配置请求方法）"></a>3.2.3 请求配置方法：axios API 使用配置方法请求后端（配置请求方法）</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 发送 POST 请求</span></span><br><span class="line">axios(&#123;</span><br><span class="line">  method: <span class="string">'post'</span>,</span><br><span class="line">  url: <span class="string">'/user/12345'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: <span class="string">'Fred'</span>,</span><br><span class="line">    lastName: <span class="string">'Flintstone'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="3-3-PUT-DELETE-方法都是一样的道理"><a href="#3-3-PUT-DELETE-方法都是一样的道理" class="headerlink" title="3.3 PUT DELETE 方法都是一样的道理"></a>3.3 PUT DELETE 方法都是一样的道理</h3><h4 id="3-3-1-别名方法"><a href="#3-3-1-别名方法" class="headerlink" title="3.3.1 别名方法"></a>3.3.1 别名方法</h4><p>在使用别名方法时， url、method、data 这些属性都不必在配置中指定。</p>
<ul>
<li>method 提到外面跟在 axios 后面用 点 操作了</li>
<li>url 在 （） 中 作为第一个参数</li>
<li>data 作为第二个参数</li>
<li>其他的配置项还是写在 {} 配置对象中</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.request(config)</span><br><span class="line">axios.get(url[, config])</span><br><span class="line">axios.delete(url[, config])</span><br><span class="line">axios.head(url[, config])</span><br><span class="line">axios.post(url[, data[, config]])</span><br><span class="line">axios.put(url[, data[, config]])</span><br><span class="line">axios.patch(url[, data[, config]])</span><br></pre></td></tr></table></figure>
<h4 id="3-3-2-配置请求方法"><a href="#3-3-2-配置请求方法" class="headerlink" title="3.3.2 配置请求方法"></a>3.3.2 配置请求方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios(&#123;config&#125;)<span class="comment">// 所有的方法都是写在配置里面 ，详见 [第四章]!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span></span><br></pre></td></tr></table></figure>
<h2 id="四、请求配置-axios-config"><a href="#四、请求配置-axios-config" class="headerlink" title="四、请求配置 axios({config})"></a>四、请求配置 axios({config})</h2><h3 id="4-1-单个请求配置"><a href="#4-1-单个请求配置" class="headerlink" title="4.1 单个请求配置"></a>4.1 单个请求配置</h3><p><strong>其实请求配置的方法，其实就是 将第 2 种 params 方法中，将 url 也放到 对象中咯。!!!!!!!!!!!!!!!!!!!!!!!!!!</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这里是创建请求时可以用的配置选项。</span></span><br><span class="line"><span class="comment">// 也就是 &#123;config&#125;  的内容!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span></span><br><span class="line"><span class="comment">//只有 url 是必需的。如果没有指定 method 请求方法，请求将默认使用 get 方法。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例</span></span><br><span class="line">axios(&#123;</span><br><span class="line">    url: <span class="string">'/user'</span>, <span class="comment">// ①请求后端服务器接口地址 必填 ，除了这个是必填的，其他的 项 都是非必填的</span></span><br><span class="line">    method: <span class="string">'get'</span>, <span class="comment">// ②创建请求时使用的方法  否    默认是 get</span></span><br><span class="line">    baseURL: <span class="string">'https://some-domain.com/api/'</span>,<span class="comment">// `baseURL` 将自动加在 `url` 前面，除非 `url` 是一个绝对 URL。</span></span><br><span class="line">                                            <span class="comment">// 它可以通过设置一个 `baseURL` 便于为 axios 实例的方法传递相对 URL</span></span><br><span class="line">    transformRequest: [<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> data; <span class="comment">// 对 data 进行任意转换处理 返回所需</span></span><br><span class="line">      <span class="comment">//③ `transformRequest` 允许在向服务器发送前，修改请求数据，且只能用在 'PUT', 'POST' 和 'PATCH' 这几个请求方法</span></span><br><span class="line">      <span class="comment">// 数组中的函数必须返回 一个字符串，或 ArrayBuffer，或 Stream</span></span><br><span class="line">    &#125;],</span><br><span class="line">    transformResponse: [<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> data;<span class="comment">// 对 data 进行任意转换处理</span></span><br><span class="line">      <span class="comment">//④`transformResponse` 在传递给 then/catch 前，允许修改响应数据</span></span><br><span class="line">    &#125;],</span><br><span class="line"></span><br><span class="line">    <span class="comment">// headers  是重点 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span></span><br><span class="line">    <span class="comment">//headers 包含的所有字段可以去看 http 文章</span></span><br><span class="line">    headers: &#123;<span class="comment">// ⑥`headers` 是即将被发送的自定义请求头,可以设置在默认里面</span></span><br><span class="line">      <span class="string">'X-Requested-With'</span>: <span class="string">'XMLHttpRequest'</span>,</span><br><span class="line">      <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,<span class="comment">//默认值为 'application/json' 可以不用设置</span></span><br><span class="line">      <span class="comment">//const token = localStorage.getItem('token');// 在 axios(&#123;&#125;) 前面要获取 token 赋值</span></span><br><span class="line">      <span class="string">'Authorization'</span> = <span class="string">`<span class="subst">$&#123;token&#125;</span>`</span></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">    params: &#123;</span><br><span class="line">      ID: <span class="number">12345</span> <span class="comment">//⑦ `params` 是即将与请求一起发送的 URL 参数，必须是一个无格式对象(plain object)或 URLSearchParams 对象</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    paramsSerializer: <span class="function"><span class="keyword">function</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> Qs.stringify(params, &#123;<span class="attr">arrayFormat</span>: <span class="string">'brackets'</span>&#125;)</span><br><span class="line">      <span class="comment">//⑧ `paramsSerializer` 是一个负责 `params` 序列化的函数</span></span><br><span class="line">      <span class="comment">//(e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)</span></span><br><span class="line">    &#125;,</span><br><span class="line">    data: &#123;</span><br><span class="line">      firstName: <span class="string">'Fred'</span></span><br><span class="line">      <span class="comment">//⑨ `data` 是作为请求主体被发送的数据，只适用于这些请求方法 'PUT', 'POST', 和 'PATCH'</span></span><br><span class="line">      <span class="comment">//在没有设置 `transformRequest` 时，必须是以下类型之一：</span></span><br><span class="line">      <span class="comment">// - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams</span></span><br><span class="line">      <span class="comment">// - 浏览器专属：FormData, File, Blob</span></span><br><span class="line">      <span class="comment">// - Node 专属： Stream</span></span><br><span class="line">    &#125;,</span><br><span class="line">    timeout: <span class="number">1000</span>,<span class="comment">// `timeout` 指定请求超时的毫秒数(0 表示无超时时间)，如果请求花费了超过 `timeout` 的时间，请求将被中断</span></span><br><span class="line">    withCredentials: <span class="literal">false</span>, <span class="comment">// 默认的 `withCredentials` 表示跨域请求时是否需要使用凭证</span></span><br><span class="line">    adapter: <span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>&#123;</span><br><span class="line">      <span class="comment">//`adapter` 允许自定义处理请求，以使测试更轻松,</span></span><br><span class="line">      <span class="comment">//返回一个 promise 并应用一个有效的响应 (查阅 [response docs](#response-api)).</span></span><br><span class="line">    &#125;,</span><br><span class="line">    auth: &#123;</span><br><span class="line">      username: <span class="string">'janedoe'</span>,<span class="comment">// `auth` 表示应该使用 HTTP 基础验证，并提供凭据</span></span><br><span class="line">      password: <span class="string">'s00pers3cret'</span><span class="comment">// 这将设置一个 `Authorization` 头，覆写掉现有的任意使用 `headers` 设置的自定义 `Authorization`头</span></span><br><span class="line">    &#125;,</span><br><span class="line">    responseType: <span class="string">'json'</span>, <span class="comment">// 默认的类型为 'json'</span></span><br><span class="line">    <span class="comment">// `responseType` 表示服务器响应的数据类型，可以是 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream'</span></span><br><span class="line">    xsrfCookieName: <span class="string">'XSRF-TOKEN'</span>, <span class="comment">// default， `xsrfCookieName` 是用作 xsrf token 的值的cookie的名称</span></span><br><span class="line">    xsrfHeaderName: <span class="string">'X-XSRF-TOKEN'</span>, <span class="comment">// `xsrfHeaderName` 是承载 xsrf token 的值的 HTTP 头的名称,默认值 'X-XSRF-TOKEN'</span></span><br><span class="line">    onUploadProgress: <span class="function"><span class="keyword">function</span> (<span class="params">progressEvent</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 对原生进度事件的处理，// `onUploadProgress` 允许为上传处理进度事件</span></span><br><span class="line">    &#125;,</span><br><span class="line">    onDownloadProgress: <span class="function"><span class="keyword">function</span> (<span class="params">progressEvent</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 对原生进度事件的处理， `onDownloadProgress` 允许为下载处理进度事件</span></span><br><span class="line">    &#125;,</span><br><span class="line">    maxContentLength: <span class="number">2000</span>,<span class="comment">// `maxContentLength` 定义允许的响应内容的最大尺寸</span></span><br><span class="line">    validateStatus: <span class="function"><span class="keyword">function</span> (<span class="params">status</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> status &gt;= <span class="number">200</span> &amp;&amp; status &lt; <span class="number">300</span>; <span class="comment">// 默认的值</span></span><br><span class="line">      <span class="comment">// `validateStatus` 定义对于给定的HTTP 响应状态码是 resolve 或 reject  promise 。</span></span><br><span class="line">      <span class="comment">//如果 `validateStatus` 返回 `true` (或者设置为  `null` 或 `undefined`)，promise 将被 resolve;</span></span><br><span class="line">      <span class="comment">//否则，promise 将被 rejecte</span></span><br><span class="line">    &#125;,</span><br><span class="line">    maxRedirects: <span class="number">5</span>, <span class="comment">// 默认为 5 ， `maxRedirects` 定义在 node.js 中 follow 的最大重定向数目</span></span><br><span class="line">    <span class="comment">//如果设置为0，将不会 follow 任何重定向</span></span><br><span class="line"></span><br><span class="line">    httpAgent: <span class="keyword">new</span> http.Agent(&#123; <span class="attr">keepAlive</span>: <span class="literal">true</span> &#125;),</span><br><span class="line">    httpsAgent: <span class="keyword">new</span> https.Agent(&#123; <span class="attr">keepAlive</span>: <span class="literal">true</span> &#125;),<span class="comment">// `keepAlive` 默认没有启用</span></span><br><span class="line">    <span class="comment">// `httpAgent` 和 `httpsAgent` 分别在 node.js 中用于定义在执行 http 和 https 时使用的自定义代理。允许像这样配置选项</span></span><br><span class="line"></span><br><span class="line">    proxy: &#123;</span><br><span class="line">      host: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">      port: <span class="number">9000</span>,</span><br><span class="line">      auth: : &#123;</span><br><span class="line">        username: <span class="string">'mikeymike'</span>,</span><br><span class="line">        password: <span class="string">'rapunz3l'</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 'proxy' 定义代理服务器的主机名称和端口</span></span><br><span class="line">      <span class="comment">// `auth` 表示 HTTP 基础验证应当用于连接代理，并提供凭据</span></span><br><span class="line">      <span class="comment">// 这将会设置一个 `Proxy-Authorization` 头，覆写掉已有的通过使用 `header` 设置的自定义 `Proxy-Authorization` 头。</span></span><br><span class="line">    &#125;,</span><br><span class="line">    cancelToken: <span class="keyword">new</span> CancelToken(<span class="function"><span class="keyword">function</span> (<span class="params">cancel</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// `cancelToken` 指定用于取消请求的 cancel token，（查看后面的 Cancellation 这节了解更多）</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="4-2-全局配置-defaults-默认值"><a href="#4-2-全局配置-defaults-默认值" class="headerlink" title="4.2 全局配置/ defaults 默认值"></a>4.2 全局配置/ defaults 默认值</h3><p>很多请求的配置可能存在相同的字段，特别是 url 如果我们每个请求都写长长的一段，麻烦也不好看。<br>默认值配置（或者说是全局配置）可以让我们减少这些不必要的麻烦。</p>
<h4 id="4-2-1-全局的-axios-默认值"><a href="#4-2-1-全局的-axios-默认值" class="headerlink" title="4.2.1 全局的 axios 默认值"></a>4.2.1 全局的 axios 默认值</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.js  或者在 interceptor/index.js 中设置</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">'https://api.example.com'</span>;</span><br><span class="line">axios.defaults.headers.common[<span class="string">'Authorization'</span>] = AUTH_TOKEN;<span class="comment">// 在 main.js 或者在拦截器 interceptor 中做处理</span></span><br><span class="line">axios.defaults.headers.post[<span class="string">'Content-Type'</span>] = <span class="string">'application/x-www-form-urlencoded'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="4-2-2-自定义实例默认值"><a href="#4-2-2-自定义实例默认值" class="headerlink" title="4.2.2 自定义实例默认值"></a>4.2.2 自定义实例默认值</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建实例时设置配置的默认值</span></span><br><span class="line"><span class="keyword">var</span> instance = axios.create(&#123;</span><br><span class="line">  baseURL: <span class="string">'https://api.example.com'</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在实例已创建后修改默认值</span></span><br><span class="line">instance.defaults.headers.common[<span class="string">'Authorization'</span>] = AUTH_TOKEN;</span><br></pre></td></tr></table></figure>
<h4 id="4-2-3-配置的优先顺序"><a href="#4-2-3-配置的优先顺序" class="headerlink" title="4.2.3 配置的优先顺序"></a>4.2.3 配置的优先顺序</h4><p>配置会以一个优先顺序进行合并。这个顺序是：在 lib/defaults.js 找到的库的默认值，然后是实例的 defaults 属性，最后是请求的 config 参数。后者将优先于前者。这里是一个例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用由库提供的配置的默认值来创建实例</span></span><br><span class="line"><span class="comment">// 此时超时配置的默认值是 `0`</span></span><br><span class="line"><span class="keyword">var</span> instance = axios.create();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 覆写库的超时默认值</span></span><br><span class="line"><span class="comment">// 现在，在超时前，所有请求都会等待 2.5 秒</span></span><br><span class="line">instance.defaults.timeout = <span class="number">2500</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为已知需要花费很长时间的请求覆写超时设置</span></span><br><span class="line">instance.get(<span class="string">'/longRequest'</span>, &#123;</span><br><span class="line">  timeout: <span class="number">5000</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="五、axios-发送请求（执行多个并发请求）"><a href="#五、axios-发送请求（执行多个并发请求）" class="headerlink" title="五、axios 发送请求（执行多个并发请求）?????????????????????????"></a>五、axios 发送请求（执行多个并发请求）?????????????????????????</h2><p>处理并发请求的助手函数</p>
<ul>
<li><code>axios.all(iterable)</code></li>
<li><code>axios.spread(callback)</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserAccount</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios.get(<span class="string">'/user/12345'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserPermissions</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios.get(<span class="string">'/user/12345/permissions'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">axios.all([getUserAccount(), getUserPermissions()])</span><br><span class="line">  .then(axios.spread(<span class="function"><span class="keyword">function</span> (<span class="params">acct, perms</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 两个请求现在都执行完成</span></span><br><span class="line">  &#125;));</span><br></pre></td></tr></table></figure>
<h2 id="六、响应结构-amp-amp-拦截器（后端服务器返回的结果）"><a href="#六、响应结构-amp-amp-拦截器（后端服务器返回的结果）" class="headerlink" title="六、响应结构 &amp;&amp; 拦截器（后端服务器返回的结果）"></a>六、响应结构 &amp;&amp; 拦截器（后端服务器返回的结果）</h2><h3 id="6-1-相应结构"><a href="#6-1-相应结构" class="headerlink" title="6.1 相应结构"></a>6.1 相应结构</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  data: &#123;&#125;,<span class="comment">// `data` 由服务器提供的响应</span></span><br><span class="line">  status: <span class="number">200</span>,<span class="comment">// `status` 来自服务器响应的 HTTP 状态码</span></span><br><span class="line">  statusText: <span class="string">'OK'</span>,<span class="comment">// `statusText` 来自服务器响应的 HTTP 状态信息</span></span><br><span class="line">  headers: &#123;&#125;,<span class="comment">// `headers` 服务器响应的头</span></span><br><span class="line">  config: &#123;&#125; <span class="comment">// `config` 是为请求提供的配置信息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-2-then，catch-处理响应"><a href="#6-2-then，catch-处理响应" class="headerlink" title="6.2 then，catch 处理响应"></a>6.2 then，catch 处理响应</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="string">'/user/12345'</span>)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response.data);</span><br><span class="line">    <span class="built_in">console</span>.log(response.status);</span><br><span class="line">    <span class="built_in">console</span>.log(response.statusText);</span><br><span class="line">    <span class="built_in">console</span>.log(response.headers);</span><br><span class="line">    <span class="built_in">console</span>.log(response.config);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (error.response) &#123;</span><br><span class="line">      <span class="comment">// 请求已发出，但服务器响应的状态码不在 2xx 范围内</span></span><br><span class="line">      <span class="built_in">console</span>.log(error.response.data);</span><br><span class="line">      <span class="built_in">console</span>.log(error.response.status);</span><br><span class="line">        <span class="comment">/* 可以使用 validateStatus 配置选项定义一个自定义 HTTP 状态码的错误范围。</span></span><br><span class="line"><span class="comment">          axios.get('/user/12345', &#123;</span></span><br><span class="line"><span class="comment">            validateStatus: function (status) &#123;</span></span><br><span class="line"><span class="comment">              return status &lt; 500; // 状态码在大于或等于500时才会 reject</span></span><br><span class="line"><span class="comment">              //返回 true 的时候  resolve ，false 的时候reject</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">          &#125;) */</span></span><br><span class="line">      <span class="built_in">console</span>.log(error.response.headers);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// Something happened in setting up the request that triggered an Error</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'Error'</span>, error.message);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(error.config);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<h3 id="6-3-拦截器-在请求或响应被-then-或-catch-处理前拦截它们（在-then，catch-之前发生）"><a href="#6-3-拦截器-在请求或响应被-then-或-catch-处理前拦截它们（在-then，catch-之前发生）" class="headerlink" title="6.3 拦截器 在请求或响应被 then 或 catch 处理前拦截它们（在 then，catch 之前发生）"></a>6.3 拦截器 在请求或响应被 then 或 catch 处理前拦截它们（在 then，catch 之前发生）</h3><h4 id="6-3-1-添加拦截器？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？"><a href="#6-3-1-添加拦截器？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？" class="headerlink" title="6.3.1 添加拦截器？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？"></a>6.3.1 添加拦截器？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加请求拦截器</span></span><br><span class="line">axios.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 在发送请求之前做些什么</span></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 对请求错误做些什么</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加响应拦截器</span></span><br><span class="line">axios.interceptors.response.use(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 对响应数据做点什么</span></span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 对响应错误做点什么</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//bigdata 项目中的设置</span></span><br><span class="line"><span class="comment">// interceptor/index.js 文件</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'router'</span></span><br><span class="line"></span><br><span class="line">axios.interceptors.request.use(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 发送请求之前给 token 再其他的请求中就不需要给 token 了</span></span><br><span class="line">  <span class="keyword">const</span> token = localStorage.getItem(<span class="string">'token'</span>);</span><br><span class="line">  <span class="keyword">if</span> (token) &#123;</span><br><span class="line">    config.headers.Authorization = <span class="string">`Code <span class="subst">$&#123;token&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;, (error) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.error(<span class="string">'request interceptor: '</span>, error)</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">axios.interceptors.response.use(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;, (error) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.error(<span class="string">'response interceptor: '</span>, error)</span><br><span class="line">  <span class="keyword">if</span> (error.response.status) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (error) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">401</span>:</span><br><span class="line">        Router.replace(<span class="string">'/login'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="6-3-2-移除拦截器"><a href="#6-3-2-移除拦截器" class="headerlink" title="6.3.2 移除拦截器"></a>6.3.2 移除拦截器</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myInterceptor = axios.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">/*...*/</span>&#125;);</span><br><span class="line">axios.interceptors.request.eject(myInterceptor);</span><br></pre></td></tr></table></figure>
<h4 id="6-3-3-为自定义-axios-实例添加拦截器"><a href="#6-3-3-为自定义-axios-实例添加拦截器" class="headerlink" title="6.3.3 为自定义 axios 实例添加拦截器"></a>6.3.3 为自定义 axios 实例添加拦截器</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> instance = axios.create();</span><br><span class="line">instance.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">/*...*/</span>&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="七、axios-实例"><a href="#七、axios-实例" class="headerlink" title="七、axios 实例"></a>七、axios 实例</h2><h3 id="7-1-axios-create-config-创建实例"><a href="#7-1-axios-create-config-创建实例" class="headerlink" title="7.1 axios.create([config]) 创建实例"></a>7.1 axios.create([config]) 创建实例</h3><p>可以使用自定义配置新建一个 axios 实例：<code>axios.create([config])</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> instance = axios.create(&#123;</span><br><span class="line">  baseURL: <span class="string">'https://some-domain.com/api/'</span>,</span><br><span class="line">  timeout: <span class="number">1000</span>,</span><br><span class="line">  headers: &#123;<span class="string">'X-Custom-Header'</span>: <span class="string">'foobar'</span>&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="7-2-实例方法"><a href="#7-2-实例方法" class="headerlink" title="7.2 实例方法"></a>7.2 实例方法</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//以下是可用的实例方法。指定的配置将与实例的配置合并</span></span><br><span class="line">axios#request(config)</span><br><span class="line">axios#get(url[, config])</span><br><span class="line">axios#delete(url[, config])</span><br><span class="line">axios#head(url[, config])</span><br><span class="line">axios#post(url[, data[, config]])</span><br><span class="line">axios#put(url[, data[, config]])</span><br><span class="line">axios#patch(url[, data[, config]])</span><br></pre></td></tr></table></figure>
<h2 id="八、取消请求"><a href="#八、取消请求" class="headerlink" title="八、取消请求"></a>八、取消请求</h2><p>使用 cancel token 取消请求</p>
<p>Axios 的 cancel token API 基于cancelable promises proposal，它还处于第一阶段。</p>
<h3 id="8-1-可以使用-CancelToken-source-工厂方法创建-cancel-token，像这样："><a href="#8-1-可以使用-CancelToken-source-工厂方法创建-cancel-token，像这样：" class="headerlink" title="8.1 可以使用 CancelToken.source 工厂方法创建 cancel token，像这样："></a>8.1 可以使用 CancelToken.source 工厂方法创建 cancel token，像这样：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> CancelToken = axios.CancelToken;</span><br><span class="line"><span class="keyword">var</span> source = CancelToken.source();</span><br><span class="line"></span><br><span class="line">axios.get(<span class="string">'/user/12345'</span>, &#123;</span><br><span class="line">  cancelToken: source.token</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">thrown</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (axios.isCancel(thrown)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Request canceled'</span>, thrown.message);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 处理错误</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取消请求（message 参数是可选的）</span></span><br><span class="line">source.cancel(<span class="string">'Operation canceled by the user.'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="8-2-通过传递一个-executor-函数到-CancelToken-的构造函数来创建-cancel-token："><a href="#8-2-通过传递一个-executor-函数到-CancelToken-的构造函数来创建-cancel-token：" class="headerlink" title="8.2 通过传递一个 executor 函数到 CancelToken 的构造函数来创建 cancel token："></a>8.2 通过传递一个 executor 函数到 CancelToken 的构造函数来创建 cancel token：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> CancelToken = axios.CancelToken;</span><br><span class="line"><span class="keyword">var</span> cancel;</span><br><span class="line"></span><br><span class="line">axios.get(<span class="string">'/user/12345'</span>, &#123;</span><br><span class="line">  cancelToken: <span class="keyword">new</span> CancelToken(<span class="function"><span class="keyword">function</span> <span class="title">executor</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// executor 函数接收一个 cancel 函数作为参数</span></span><br><span class="line">    cancel = c;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取消请求</span></span><br><span class="line">cancel();</span><br></pre></td></tr></table></figure>
<h3 id="8-3-可以使用同一个-cancel-token-取消多个请求"><a href="#8-3-可以使用同一个-cancel-token-取消多个请求" class="headerlink" title="8.3 可以使用同一个 cancel token 取消多个请求"></a>8.3 可以使用同一个 cancel token 取消多个请求</h3><h2 id="九、TypeScript-中使用-axios"><a href="#九、TypeScript-中使用-axios" class="headerlink" title="九、TypeScript 中使用 axios"></a>九、TypeScript 中使用 axios</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;</span><br><span class="line">axios.get(<span class="string">'/user?ID=12345'</span>);</span><br></pre></td></tr></table></figure>
<h2 id="十、在-vue-中使用-axios"><a href="#十、在-vue-中使用-axios" class="headerlink" title="十、在 vue 中使用 axios!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"></a>十、在 vue 中使用 axios!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</h2><p>安装其他插件的时候， npm 之后，可以直接在 main.js 中引入并 Vue.use()，但是 axios 并不能 use，只能每个需要发送请求的组件中即时引入，那就是下面说的 修改原型链的方法，或者是大型项目中使用 vuex 封装  action 的办法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Vue.use(iView)</span><br><span class="line">Vue.use(APlayer, &#123;</span><br><span class="line">  defaultCover: <span class="string">'https://github.com/u3u.png'</span>,<span class="comment">//这里是默认图片设置</span></span><br><span class="line">  productionTip: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="10-1-axios-安装-引入"><a href="#10-1-axios-安装-引入" class="headerlink" title="10.1 axios 安装/引入"></a>10.1 axios 安装/引入</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ npm install axios  <span class="comment"># npm 方法，推荐使用这个方法</span></span><br><span class="line">$ cnpm install axios <span class="comment"># cnpm 方法: taobao 源 (貌似 cnpm 不稳定老是出错？)</span></span><br><span class="line">$ bower install axios <span class="comment"># bower 方法</span></span><br><span class="line">&lt;script src=<span class="string">"https://unpkg.com/axios/dist/axios.min.js"</span>&gt;&lt;/script&gt; <span class="comment"># cdn 方法 这个方法可以确认版本</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 以上四种方法 四选一</span></span><br></pre></td></tr></table></figure>
<h3 id="10-1-1-修改原型链引入法（在-main-js-文件引入）"><a href="#10-1-1-修改原型链引入法（在-main-js-文件引入）" class="headerlink" title="10.1.1 修改原型链引入法（在 main.js 文件引入）"></a>10.1.1 修改原型链引入法（在 main.js 文件引入）</h3><p>main.js 导入 axios</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.js</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>   <span class="comment">// 全局引入 axios</span></span><br><span class="line">Vue.prototype.axios = axios <span class="comment">// 修改 vue 的原型链？？？？？需要这样么</span></span><br><span class="line"><span class="comment">// 在 main.js 中添加了这两行代码之后，就能直接在组件的 methods 中使用 axios 命令</span></span><br><span class="line"><span class="comment">// Vue.prototype.$ajax = axios    使用的就是 $ajax 命令了，还是使用上面的 axios 好（这里只是为了说明学习一下）</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在 pages.vue 中使用 axios</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">//获取每日推荐歌单,函数名不要与 data 中的数据名称重名</span></span><br><span class="line">    getRecommendEverday() &#123;</span><br><span class="line">      <span class="keyword">let</span> vm = <span class="keyword">this</span>;<span class="comment">//将 this 保存下来，避免作用域的改变 this 的值，当然用 that 保存也 ok 啦。</span></span><br><span class="line"></span><br><span class="line">      axios.get(<span class="string">`/recommend/resource`</span>, &#123;</span><br><span class="line">          withCredentials: <span class="literal">true</span>,</span><br><span class="line">          params: &#123;</span><br><span class="line">            ID: <span class="number">12345</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">          vm.recommendEverdays = res.data.recommend;</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(err);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//获取推荐歌单，函数名不要与 data 中的数据名称重名</span></span><br><span class="line">    getRecommend() &#123;</span><br><span class="line">      <span class="keyword">let</span> vm = <span class="keyword">this</span>;</span><br><span class="line">      axios.get(<span class="string">`/personalized`</span>, &#123;</span><br><span class="line">          withCredentials: <span class="literal">true</span></span><br><span class="line">        &#125;)</span><br><span class="line">        .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">          vm.recommends = response.data.result;</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(error);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//  写成箭头函数，就不需要中间变量 vm 来保存实例了，</span></span><br><span class="line">    getRecommend() &#123;</span><br><span class="line">      axios.get(<span class="string">`/personalized`</span>, &#123;</span><br><span class="line">          withCredentials: <span class="literal">true</span></span><br><span class="line">        &#125;)</span><br><span class="line">        .then(<span class="function">(<span class="params">response</span>)=&gt;</span>&#123;</span><br><span class="line">          <span class="keyword">this</span>.recommends = response.data.result;</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function">(<span class="params">error</span>)=&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(error);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>then 与 catch 这两个回调函数中都有各自独立的作用域（函数作用域），如果直接在里面访问 this，无法访问到 Vue 实例，<br>3 种弄办法解决问题。</p>
<ul>
<li>方法 ① 就是上面的例子，先将 vue 实例 用 vm 变量保存，这样在 then，catch 中就可以通过访问 vm 得到 vue 实例 this了。</li>
<li>方法 ② 这时只要添加一个 .bind(this) 就能解决这个问题<pre><code>.then(function(res){
  console.log(this.data)
}.bind(this))
.catch(function(error) {
  console.log(error);
}.bind(this));
</code></pre></li>
<li>方法 ③ 用箭头函数咯，不要使用 function 函数。这样就可以在箭头函数中使用 this ，它依然指向 vue 实例。<pre><code>function 函数存在 函数作用域，this 表示的是  function 函数坏境，不再是 vue 实例。
而箭头函数中是存在 词法作用域，箭头函数会 继承 外层函数调用的 this。
箭头函数中的 this 因为绑定了词法作用域，所以始终指向自身外的第一个 this（由于自身没有声明 this，所以会去作用域链上找 this ），也就是始终等于调用它的函数的 this（以为这个 this 离它最近）
[ES6 箭头函数的 this](http://es6.ruanyifeng.com/#docs/function#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0)
（1）函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。
这可能也是在 vue 的声明周期 还有其他选项不能使用 箭头函数？
</code></pre></li>
</ul>
<h3 id="10-1-2-vuex-封装-aciton-引入法（大型项目使用-vuex）"><a href="#10-1-2-vuex-封装-aciton-引入法（大型项目使用-vuex）" class="headerlink" title="10.1.2 vuex 封装 aciton 引入法（大型项目使用 vuex）"></a>10.1.2 vuex 封装 aciton 引入法（大型项目使用 vuex）</h3><p>目前主流的 Vue 项目，都选择 axios 来完成 ajax 请求，而大型项目都会使用 Vuex 来管理数据，这章将结合两者来发送请求。<strong>如果是大型项目才会使用到 vuex ，一般的项目就要给自己添加麻烦了。</strong></p>
<p>Vuex 的 mutations，从结果上看，<br>mutations:类似于事件，用于提交 Vuex 中的状态 state<br>action:   和 mutations 也很类似，主要的区别在于，action 可以包含异步操作，而且可以通过 action 来提交 mutations</p>
<p>另外还有一个重要的区别：<br>mutations:有一个固有参数 state，接收的是 Vuex 中的 state 对象<br>action   :也有一个固有参数 context，但是 context 是 state 的父级，包含  state、getters</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// store.js</span></span><br><span class="line"><span class="comment">//Vuex 的仓库是 store.js，将 axios 引入，并在 action 添加新的方法</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'Vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入 axios</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  <span class="comment">// 定义状态</span></span><br><span class="line">  state: &#123;</span><br><span class="line">    test01: &#123;</span><br><span class="line">      name: <span class="string">'Wise Wrong'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    test02: &#123;</span><br><span class="line">      tell: <span class="string">'12312345678'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="comment">// 封装一个 ajax 方法</span></span><br><span class="line">    saveForm (context) &#123;</span><br><span class="line">      axios(&#123;</span><br><span class="line">        <span class="comment">// 这里使用的是配置的方法 创建请求</span></span><br><span class="line">        method: <span class="string">'post'</span>,</span><br><span class="line">        url: <span class="string">'/user'</span>,</span><br><span class="line">        data: context.state.test02</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages.vue 组件调用</span></span><br><span class="line">methods: &#123;</span><br><span class="line">  submitForm () &#123;</span><br><span class="line">    <span class="keyword">this</span>.$store.dispatch(<span class="string">'saveForm'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//submitForm 是绑定在组件上的一个方法，将触发 saveForm，从而通过 axios 向服务器发送请求</span></span><br></pre></td></tr></table></figure>
<p>注意：即使已经在 main.js 中引入了 axios，并改写了原型链，也无法在 store.js 中直接使用 axios 命令.换言之，这两种方案是相互独立的</p>
<h3 id="10-2-上传例子"><a href="#10-2-上传例子" class="headerlink" title="10.2 上传例子"></a>10.2 上传例子</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- iview-ui : Upload 组件--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Upload</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:before-upload</span>=<span class="string">"handleUpload"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">action</span>=<span class="string">"//jsonplaceholder.typicode.com/posts/"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span> <span class="attr">icon</span>=<span class="string">"ios-cloud-upload-outline"</span>&gt;</span>Select the file to upload<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Upload</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"file !== null"</span>&gt;</span>Upload file: &#123;&#123; file.name &#125;&#125; <span class="tag">&lt;<span class="name">Button</span> <span class="attr">type</span>=<span class="string">"text"</span> @<span class="attr">click</span>=<span class="string">"upload"</span> <span class="attr">:loading</span>=<span class="string">"loadingStatus"</span>&gt;</span>&#123;&#123; loadingStatus ? 'Uploading' : 'Click to upload' &#125;&#125;<span class="tag">&lt;/<span class="name">Button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="undefined">      data () &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">              file: <span class="literal">null</span>,</span></span><br><span class="line"><span class="javascript">              loadingStatus: <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="undefined">      &#125;,</span></span><br><span class="line"><span class="undefined">      methods: &#123;</span></span><br><span class="line"><span class="undefined">          handleUpload (file) &#123;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">this</span>.file = file;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">          &#125;,</span></span><br><span class="line"><span class="undefined">          upload () &#123;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">this</span>.loadingStatus = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">              setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                  <span class="keyword">this</span>.file = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">                  <span class="keyword">this</span>.loadingStatus = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                  <span class="keyword">this</span>.$Message.success(<span class="string">'Success'</span>)</span></span><br><span class="line"><span class="undefined">              &#125;, 1500);</span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- iview-ui : Upload 组件--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Upload</span> <span class="attr">:before-upload</span>=<span class="string">"handleUpload"</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">icon</span>=<span class="string">"ios-cloud-upload-outline"</span>&gt;</span>请上传实例程序<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Upload</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"file!==null"</span>&gt;</span>实例名称：&#123;&#123;file.name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Modal</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-model</span>=<span class="string">"model2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">title</span>=<span class="string">"请填写以下字段以增加实例"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">mask</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class-name</span>=<span class="string">"vertical-center-modal"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Form</span> <span class="attr">ref</span>=<span class="string">"formValidate2"</span> <span class="attr">:model</span>=<span class="string">"formValidate2"</span> <span class="attr">:rules</span>=<span class="string">"ruleValidate2"</span> <span class="attr">:label-width</span>=<span class="string">"80"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">FormItem</span> <span class="attr">label</span>=<span class="string">"实例名称"</span> <span class="attr">prop</span>=<span class="string">"name"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Upload</span> <span class="attr">:before-upload</span>=<span class="string">"handleUpload"</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">Button</span> <span class="attr">icon</span>=<span class="string">"ios-cloud-upload-outline"</span>&gt;</span>请上传实例程序<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Upload</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"file!==null"</span>&gt;</span>实例名称：&#123;&#123;file.name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">FormItem</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">FormItem</span> <span class="attr">label</span>=<span class="string">"类型"</span> <span class="attr">prop</span>=<span class="string">"type"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Select</span> <span class="attr">v-model</span>=<span class="string">"formValidate2.type"</span> <span class="attr">style</span>=<span class="string">"width:100%"</span> <span class="attr">placeholder</span>=<span class="string">"请选择类型"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">Option</span> <span class="attr">v-for</span>=<span class="string">"item in type"</span> <span class="attr">:value</span>=<span class="string">"item.value"</span> <span class="attr">:key</span>=<span class="string">"item.value"</span>&gt;</span>&#123;&#123; item.label &#125;&#125;<span class="tag">&lt;/<span class="name">Option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Select</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">FormItem</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">Button</span> @<span class="attr">click.native</span>=<span class="string">"cancel2"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">Button</span> <span class="attr">type</span>=<span class="string">"primary"</span> @<span class="attr">click.native</span>=<span class="string">"ok2('formValidate2')"</span> <span class="attr">:loading</span>=<span class="string">"loading"</span>&gt;</span>确定<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Modal</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="undefined">    data () &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">          file: <span class="literal">null</span>,</span></span><br><span class="line"><span class="javascript">          loadingStatus = <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="undefined">    methods: &#123;</span></span><br><span class="line"><span class="undefined">      handleUpload(file) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.file = file</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">      &#125;,</span></span><br><span class="line"><span class="undefined">      ok2(name) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.loading = <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.$refs[name].validate(<span class="function">(<span class="params">valid</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (valid) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> formData = <span class="keyword">new</span> FormData();</span></span><br><span class="line"><span class="javascript">            formData.append(<span class="string">'exec'</span>, <span class="keyword">this</span>.file);</span></span><br><span class="line"><span class="javascript">            formData.append(<span class="string">'type'</span>, <span class="keyword">this</span>.formValidate2.type);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            axios(&#123;</span></span><br><span class="line"><span class="javascript">              url: <span class="string">'http://hete-api.gofoer.com/v1/exec'</span>,<span class="comment">// 上传的地址</span></span></span><br><span class="line"><span class="javascript">              method: <span class="string">'post'</span>,</span></span><br><span class="line"><span class="javascript">              headers: &#123;<span class="string">'content-type'</span>: <span class="string">'multipart/form-data'</span>&#125;,</span></span><br><span class="line"><span class="undefined">              data: formData</span></span><br><span class="line"><span class="javascript">            &#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(res.data)</span></span><br><span class="line"><span class="javascript">              <span class="keyword">if</span> (res.data.code === <span class="number">200</span>) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">this</span>.$Message.success(<span class="string">'添加成功！'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">this</span>.loading = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">              &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">this</span>.$Message.error(res.data.message);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">this</span>.loading = <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">              &#125;</span></span><br><span class="line"><span class="javascript">            &#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">this</span>.$Message.error(err.data.message);</span></span><br><span class="line"><span class="javascript">              <span class="keyword">this</span>.loading = <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">            &#125;)</span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.model2 = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.$Message.info(<span class="string">'请填写完整！'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.loading = <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined">      &#125;,</span></span><br><span class="line"><span class="undefined">      upload () &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.loadingStatus = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.file = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.loadingStatus = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.$Message.success(<span class="string">'Success'</span>)</span></span><br><span class="line"><span class="undefined">        &#125;, 1500);</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- iview ：Button 自定义上传 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Button</span> <span class="attr">type</span>=<span class="string">"info"</span> <span class="attr">icon</span>=<span class="string">"md-cloud-upload"</span> @<span class="attr">click</span>=<span class="string">"handleUpload"</span> <span class="attr">size</span>=<span class="string">"large"</span>&gt;</span></span><br><span class="line">    上传</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">ref</span>=<span class="string">"btnFile"</span> <span class="attr">style</span>=<span class="string">"display:none"</span> @<span class="attr">change</span>=<span class="string">"handleUpload"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"> <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="undefined">  methods: &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 上传文件，触发事件， event</span></span></span><br><span class="line"><span class="undefined">    handleUpload(event) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span> (!event.isTrusted) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span> (event.type === <span class="string">"change"</span>) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//选择了文件</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (event.target.files.length !== <span class="number">1</span>) &#123;<span class="comment">// 这里的条件是明确表示一次只能上传一个文件。</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">this</span>.$Message.warning(<span class="string">'只能选择一个文件'</span>);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        store.dispatch(<span class="string">'CHANGE_SHOW_LOADING'</span>, <span class="literal">true</span>);<span class="comment">// 上传的转圈，可以自己用其他好理解的方式写</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 下面是上传请求</span></span></span><br><span class="line"><span class="undefined">        axios(&#123;</span></span><br><span class="line"><span class="javascript">          url: apiRoot + <span class="string">'/form?type=file'</span>,</span></span><br><span class="line"><span class="javascript">          method:<span class="string">'post'</span>,</span></span><br><span class="line"><span class="javascript">          contentType: <span class="string">'multipart/form-data'</span>,</span></span><br><span class="line"><span class="undefined">          data: &#123;</span></span><br><span class="line"><span class="javascript">            file: event.target.files[<span class="number">0</span>]<span class="comment">// 事件 event event.target 下有一个 files 数组，可以获取相应的文件。</span></span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="javascript">        &#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">this</span>.$Message.success(<span class="string">'上传成功！'</span>);</span></span><br><span class="line"><span class="javascript">        &#125;).catch(<span class="function">(<span class="params">error</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">this</span>.$Message.error(<span class="string">`上传失败！<span class="subst">$&#123;error.response.data.message&#125;</span>`</span>);</span></span><br><span class="line"><span class="javascript">        &#125;).finally(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">          store.dispatch(<span class="string">'CHANGE_SHOW_LOADING'</span>, <span class="literal">false</span>);<span class="comment">// 上传的转圈，可以自己用其他好理解的方式写</span></span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.uploadFilesOffline(event.target.files.name)</span></span><br><span class="line"><span class="javascript">      &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//点击了上传</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> target = <span class="keyword">this</span>.$refs.btnFile;<span class="comment">// 获取输入框 DOM 节点 赋值给 target</span></span></span><br><span class="line"><span class="javascript">        target.files = <span class="literal">null</span>;<span class="comment">// 文件指空</span></span></span><br><span class="line"><span class="javascript">        target.value = <span class="literal">null</span>;<span class="comment">// 值 指空</span></span></span><br><span class="line"><span class="javascript">        target.click();<span class="comment">// 这里是干嘛的？？？？</span></span></span><br><span class="line"><span class="javascript">        target = <span class="literal">null</span>; <span class="comment">//指空，防止BOM内存泄露</span></span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="10-3-下载例子"><a href="#10-3-下载例子" class="headerlink" title="10.3 下载例子"></a>10.3 下载例子</h3><p><img src="https://user-gold-cdn.xitu.io/2018/10/17/16680f13447e4d8c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="文件流"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">apiDownloadFiles</span>(<span class="params">fielId</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios(&#123;</span><br><span class="line">    url: <span class="string">`/document/<span class="subst">$&#123;fielId&#125;</span>`</span>,</span><br><span class="line">    method: <span class="string">'get'</span>,</span><br><span class="line">    responseType: <span class="string">'blob'</span><span class="comment">//下载的时候设置 responseType 为 blob,看后端返回的接口</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 上面的函数获取到的是一个 文件流，文件流，如上图</span></span><br><span class="line"><span class="comment">// 将获取到的文件流，处理成文件</span></span><br><span class="line">apiDownloadFiles(file.id).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (res.data.type === <span class="string">"application/json"</span>) &#123;<span class="comment">// 一定是这个 json 格式？？？？这个对么？？？？</span></span><br><span class="line">    <span class="keyword">this</span>.$message(&#123;</span><br><span class="line">      type: <span class="string">"error"</span>,</span><br><span class="line">      message: <span class="string">"下载失败，文件不存在或权限不足"</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> blob = <span class="keyword">new</span> Blob([res.data]);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.navigator.msSaveOrOpenBlob) &#123;</span><br><span class="line">      navigator.msSaveBlob(blob, file.fileName);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> link = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>);</span><br><span class="line">      <span class="keyword">let</span> evt = <span class="built_in">document</span>.createEvent(<span class="string">"HTMLEvents"</span>);</span><br><span class="line">      evt.initEvent(<span class="string">"click"</span>, <span class="literal">false</span>, <span class="literal">false</span>);</span><br><span class="line">      link.href = URL.createObjectURL(blob); </span><br><span class="line">      link.download = file.fileName;</span><br><span class="line">      link.style.display = <span class="string">"none"</span>;</span><br><span class="line">      <span class="built_in">document</span>.body.appendChild(link);</span><br><span class="line">      link.click();</span><br><span class="line">      <span class="built_in">window</span>.URL.revokeObjectURL(link.href);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>上面写成这样我们熟悉的样式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">  downLoad(fielId)&#123;</span><br><span class="line">    axios(&#123;</span><br><span class="line">      url: <span class="string">`/document/<span class="subst">$&#123;fielId&#125;</span>`</span>,</span><br><span class="line">      method: <span class="string">'get'</span>,</span><br><span class="line">      responseType: <span class="string">'blob'</span><span class="comment">//下载的时候设置 responseType 为 blob,看后端返回的接口</span></span><br><span class="line">    &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (res.data.type === <span class="string">"application/json"</span>) &#123;<span class="comment">// 一定是这个 json 格式？？？？这个对么？？？？</span></span><br><span class="line">        <span class="keyword">this</span>.$message(&#123;</span><br><span class="line">          type: <span class="string">"error"</span>,</span><br><span class="line">          message: <span class="string">"下载失败，文件不存在或权限不足"</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> blob = <span class="keyword">new</span> Blob([res.data]);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">window</span>.navigator.msSaveOrOpenBlob) &#123;</span><br><span class="line">          navigator.msSaveBlob(blob, file.fileName);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">let</span> link = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>);</span><br><span class="line">          <span class="keyword">let</span> evt = <span class="built_in">document</span>.createEvent(<span class="string">"HTMLEvents"</span>);</span><br><span class="line">          evt.initEvent(<span class="string">"click"</span>, <span class="literal">false</span>, <span class="literal">false</span>);</span><br><span class="line">          link.href = URL.createObjectURL(blob); </span><br><span class="line">          link.download = file.fileName;</span><br><span class="line">          link.style.display = <span class="string">"none"</span>;</span><br><span class="line">          <span class="built_in">document</span>.body.appendChild(link);</span><br><span class="line">          link.click();</span><br><span class="line">          <span class="built_in">window</span>.URL.revokeObjectURL(link.href);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tags"><a href="/tags/axios-使用于-vue-js-react-js/">axios(使用于 vue.js react.js)</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2018/08/19/{ vue.js 框架 } vue-router 路由设置/" class="pre">vue-router--[小白入门篇、速学篇]</a><a href="/2018/08/19/==【命令-工具】node包管理器==npm &amp;&amp; yarn  &amp;&amp; cnpm &amp;&amp; pnpm/" class="next">【npm &amp; yarn 】-安装工具的工具</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一、前言"><span class="toc-text">一、前言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、-axios-简介"><span class="toc-text">一、 axios 简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、-axios-发送请求（执行单个请求）"><span class="toc-text">三、 axios 发送请求（执行单个请求）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-执行-GET-请求-（几种方法）"><span class="toc-text">3.1 执行 GET 请求 （几种方法）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-改造-url-传参（不建议这样传参）（别名方法）"><span class="toc-text">3.1.1 改造 url 传参（不建议这样传参）（别名方法）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-使用-params-对象传参（这样来使用传参比较好）（别名方法）"><span class="toc-text">3.1.2 使用 params 对象传参（这样来使用传参比较好）（别名方法）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-3-可以通过向-axios-传递相关配置来创建请求-传参（配置请求，是最原始的方法吧？）"><span class="toc-text">3.1.3 可以通过向 axios 传递相关配置来创建请求 传参（配置请求，是最原始的方法吧？）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-POST-请求"><span class="toc-text">3.2 POST 请求</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-改造-url-的方法（不推荐用这里不写了）"><span class="toc-text">3.2.1 改造 url 的方法（不推荐用这里不写了）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-使用-params-对象（别名方法）"><span class="toc-text">3.2.2 使用 params 对象（别名方法）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-3-请求配置方法：axios-API-使用配置方法请求后端（配置请求方法）"><span class="toc-text">3.2.3 请求配置方法：axios API 使用配置方法请求后端（配置请求方法）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-PUT-DELETE-方法都是一样的道理"><span class="toc-text">3.3 PUT DELETE 方法都是一样的道理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-别名方法"><span class="toc-text">3.3.1 别名方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2-配置请求方法"><span class="toc-text">3.3.2 配置请求方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四、请求配置-axios-config"><span class="toc-text">四、请求配置 axios({config})</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-单个请求配置"><span class="toc-text">4.1 单个请求配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-全局配置-defaults-默认值"><span class="toc-text">4.2 全局配置/ defaults 默认值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-1-全局的-axios-默认值"><span class="toc-text">4.2.1 全局的 axios 默认值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-2-自定义实例默认值"><span class="toc-text">4.2.2 自定义实例默认值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-3-配置的优先顺序"><span class="toc-text">4.2.3 配置的优先顺序</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#五、axios-发送请求（执行多个并发请求）"><span class="toc-text">五、axios 发送请求（执行多个并发请求）?????????????????????????</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六、响应结构-amp-amp-拦截器（后端服务器返回的结果）"><span class="toc-text">六、响应结构 &amp;&amp; 拦截器（后端服务器返回的结果）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-相应结构"><span class="toc-text">6.1 相应结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-then，catch-处理响应"><span class="toc-text">6.2 then，catch 处理响应</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-拦截器-在请求或响应被-then-或-catch-处理前拦截它们（在-then，catch-之前发生）"><span class="toc-text">6.3 拦截器 在请求或响应被 then 或 catch 处理前拦截它们（在 then，catch 之前发生）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-1-添加拦截器？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？"><span class="toc-text">6.3.1 添加拦截器？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-2-移除拦截器"><span class="toc-text">6.3.2 移除拦截器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-3-为自定义-axios-实例添加拦截器"><span class="toc-text">6.3.3 为自定义 axios 实例添加拦截器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七、axios-实例"><span class="toc-text">七、axios 实例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-axios-create-config-创建实例"><span class="toc-text">7.1 axios.create([config]) 创建实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-实例方法"><span class="toc-text">7.2 实例方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#八、取消请求"><span class="toc-text">八、取消请求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-可以使用-CancelToken-source-工厂方法创建-cancel-token，像这样："><span class="toc-text">8.1 可以使用 CancelToken.source 工厂方法创建 cancel token，像这样：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-通过传递一个-executor-函数到-CancelToken-的构造函数来创建-cancel-token："><span class="toc-text">8.2 通过传递一个 executor 函数到 CancelToken 的构造函数来创建 cancel token：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-可以使用同一个-cancel-token-取消多个请求"><span class="toc-text">8.3 可以使用同一个 cancel token 取消多个请求</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#九、TypeScript-中使用-axios"><span class="toc-text">九、TypeScript 中使用 axios</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#十、在-vue-中使用-axios"><span class="toc-text">十、在 vue 中使用 axios!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-axios-安装-引入"><span class="toc-text">10.1 axios 安装/引入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-1-修改原型链引入法（在-main-js-文件引入）"><span class="toc-text">10.1.1 修改原型链引入法（在 main.js 文件引入）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-2-vuex-封装-aciton-引入法（大型项目使用-vuex）"><span class="toc-text">10.1.2 vuex 封装 aciton 引入法（大型项目使用 vuex）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-上传例子"><span class="toc-text">10.2 上传例子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-下载例子"><span class="toc-text">10.3 下载例子</span></a></li></ol></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/">① html-css</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/Normalize-css/">Normalize.css</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/css/">css</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/css1/">css1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/html1/">html1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/html5/">html5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/①-html-css/less/">less</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/">② Javascript-ES6-Typescript</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/ES6/">ES6</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/Javascript/">Javascript</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/②-Javascript-ES6-Typescript/TypeScript/">TypeScript</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/">③ Jquery.js</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/JQurey-UI/">JQurey-UI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/Jquery-js-框架学习/">Jquery.js 框架学习</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/③-Jquery-js/ajax-前后端数据交互/">ajax 前后端数据交互</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/">④  vue.js</a><span class="category-list-count">21</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/axios-前后端数据交互/">axios 前后端数据交互</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-中使用-less-scss-等预处理器/">vue 中使用 less/scss 等预处理器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-cli-脚手架/">vue-cli 脚手架</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-router-路由设置/">vue-router 路由设置</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-js-框架学习/">vue.js 框架学习</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vue-js-的-UI-组件库/">vue.js 的 UI 组件库</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/④-vue-js/vuex-状态管理器/">vuex 状态管理器</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/">⑤ react.js</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/axios-在-react-js-中使用/">axios 在 react.js 中使用</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/create-react-app-脚手架/">create-react-app 脚手架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/less-scss/">less/scss</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/mixins-混合组件-与-hoc-高阶组件/">mixins 混合组件 与 hoc 高阶组件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/react-router-v4-路由管理器/">react-router v4 路由管理器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/react-js-框架学习/">react.js 框架学习</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/react-js-的-UI-组件库/">react.js 的 UI 组件库</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/taro-js-多终端框架-京东/">taro.js 多终端框架(京东)</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑤-react-js/状态管理器/">状态管理器</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑥-react-native-js/">⑥ react-native.js</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑥-react-native-js/react-native-框架/">react-native 框架</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/">⑦ 小程序</a><span class="category-list-count">10</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/MINA-框架/">MINA 框架</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/mpvue-框架/">mpvue 框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑦-小程序/wepy-框架/">wepy 框架</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/">⑧ JS 工具集/ JS拓展语言</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/JSL-拓展语言/">JSL 拓展语言</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/day-js-框架/">day.js 框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/node-js-语言/">node.js 语言</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/render-函数/">render 函数</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑧-JS-工具集-JS拓展语言/阿里矢量图用法（字符实体）/">阿里矢量图用法（字符实体）</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑨-HTTP/">⑨ HTTP</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github上传下载工具/">⑩ 打包工具-命令行工具-包管理器-github上传下载工具</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github上传下载工具/github/">github</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github上传下载工具/npm-yarn/">npm & yarn</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github上传下载工具/webpack/">webpack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑩-打包工具-命令行工具-包管理器-github上传下载工具/编辑器/">编辑器</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑪-网站部署/">⑪ 网站部署</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑫-综合实战项目/">⑫ 综合实战项目</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑫-综合实战项目/jQuery/">jQuery</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑫-综合实战项目/vue/">vue</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑬-数据结构与算法/">⑬ 数据结构与算法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/⑭-静态网页生成器/">⑭ 静态网页生成器</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/⑭-静态网页生成器/hexo/">hexo</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/㊿-无关编程/">㊿ 无关编程</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/flex/" style="font-size: 15px;">flex</a> <a href="/tags/animation-动画/" style="font-size: 15px;">animation 动画</a> <a href="/tags/cookie-session-token/" style="font-size: 15px;">cookie,session,token</a> <a href="/tags/gradients-线性/" style="font-size: 15px;">gradients 线性</a> <a href="/tags/transition-过渡/" style="font-size: 15px;">transition 过渡</a> <a href="/tags/ESlint之坑/" style="font-size: 15px;">ESlint之坑</a> <a href="/tags/transform-转换-变形/" style="font-size: 15px;">transform 转换/变形</a> <a href="/tags/立即执行函数/" style="font-size: 15px;">立即执行函数</a> <a href="/tags/递归函数/" style="font-size: 15px;">递归函数</a> <a href="/tags/Jquery-ajax/" style="font-size: 15px;">Jquery->ajax</a> <a href="/tags/interceptor-请求拦截器/" style="font-size: 15px;">interceptor 请求拦截器</a> <a href="/tags/v-charts-图标库/" style="font-size: 15px;">v-charts 图标库</a> <a href="/tags/axios-使用于-vue-js-react-js/" style="font-size: 15px;">axios(使用于 vue.js react.js)</a> <a href="/tags/react-js事件处理/" style="font-size: 15px;">react.js事件处理</a> <a href="/tags/react-js-生命周期/" style="font-size: 15px;">react.js 生命周期</a> <a href="/tags/react-js-组件传值/" style="font-size: 15px;">react.js 组件传值</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/08/15/[html-css]-css-float 浮动/">css--[盒状模型：display:inline-block + position 属性 + float 属性]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/06/⑧-【JS 工具集-拓展语言】-node.js- 爬虫/">node.js--爬虫</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/{ vue.js 框架 }-new Vue&&component/">new Vue({}) 与 export default{} 选项的写法区分</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-ES6-基础入门/">ES6【1】--[ECMAScript 6 入门]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-js-cookie-token/">JavaScript【1】--[cookie,session,token 详解]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/[Javascript]-js-new Date() 日期时间处理/">JavaScript---new Date]</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/==【命令-工具】github==简单使用教程/">git 使用教程-常用的操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/㊿ 其他---Foxmail邮箱使用/">【Foxmail】-添加 163.com 网易邮箱账号不成功 POP,MAP</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/㊿ - 其他---带圈数字输出/">【圈数字】-与编程无关的圈数字输出①②③④⑤⑥⑦⑧⑨⑩⑪⑫⑬⑭⑮⑯⑰⑱⑲⑳</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/⑬ -数据结构与算法-JS-入门/">JavaScript 数据结构与算法【1】--[入门版]</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://gofoer.com/" title="Gofoer" target="_blank">Gofoer</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p></p><p><span> &nbsp;&nbsp;Copyright &copy;2018&nbsp;<a href="/." rel="nofollow">小米粥.</a></span><span> <a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> </a></span><span> <a href="http://busuanzi.ibruce.info/"> </a></span><span> <a rel="nofollow" target="_blank" href="https://hexo.io"> </a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>